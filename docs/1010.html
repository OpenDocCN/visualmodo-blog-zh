<html>
<head>
<title>WordPress Lazy Loading Implementation Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WordPress延迟加载实现指南</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/wordpress-lazy-loading-implementation-guide-da35cf397757?source=collection_archive---------0-----------------------#2020-08-16">https://medium.com/visualmodo/wordpress-lazy-loading-implementation-guide-da35cf397757?source=collection_archive---------0-----------------------#2020-08-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0382" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您想在WordPress中对图像使用惰性加载吗？惰性加载允许您的网站仅在用户向下滚动到特定图像时加载图像。你可以在很多热门网站上看到它的运作，比如Buzzfeed。在本文中，我们将向您展示如何在WordPress中轻松加载图像。</p><h1 id="64ca" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">为什么偷懒加载很重要？</h1><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff kn"><img src="../Images/b2956eb4f04c7036b70d35094137e103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-DPiXYEfwMq5CvcF.jpg"/></div></div></figure><p id="18a8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">网页的巨大负载主要由图像、脚本、样式表、字体和视频组成。然而，图像占据了典型网页大小的60%以上。图像对网页的设计也很重要，所以你不能把它们去掉。</p><p id="5789" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在没有任何优化的情况下，用户的网络浏览器会在完全呈现页面之前下载所有资源。这会导致加载时间增加，这会吸引人们离开。WooCommerce估计，每提高100毫秒的页面速度，一个电子商务网站就能增加1%的收入。</p><p id="2953" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这种情况下，不惜一切代价<a class="ae kz" href="https://visualmodo.com/top-reasons-why-you-need-to-select-a-good-wordpress-theme/" rel="noopener ugc nofollow" target="_blank">优化你的负载时间</a>很有意义。由于图像是网页大小的主要因素，从图像开始是一个好主意。这就是懒惰加载发挥作用的地方。</p><h1 id="2821" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">从头开始实现延迟加载</h1><p id="f900" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">让我们先看看如何在不使用任何插件的情况下做到这一点。对于那些不习惯JavaScript的人，建议使用此选项。理想情况下，需要采取以下步骤:</p><p id="823c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">页面加载时防止图像加载:当您在<img/>标签的src属性中指定图像的URL或路径时，图像将在页面加载时由浏览器下载。为了防止浏览器下载图像，您需要在<img/>标签的data-src属性中指定图像的位置。</p><p id="30fa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在JavaScript中注册事件处理函数，检查两个事件的元素:加载和滚动。当元素进入视口时，将data-src元素的值加载到src元素中，这将触发浏览器加载图像。Robin Osborne已经解释了这个过程的一个简单实现，这个演示可以在CodePen上找到。</p><h1 id="3c11" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">使用交叉观察器应用编程接口</h1><p id="2e0a" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">相交观察者应用编程接口帮助识别在任何给定时间点处于视口中的DOM元素。这是一种在不编写事件处理函数的情况下实现惰性加载的更干净的方法。实现惰性加载的代码行数也大幅下降。然而，浏览器兼容性仍然是一个问题。此外，谷歌开发者博客通过这个代码笔演示解释了交集观察者应用编程接口的实现。</p><h1 id="cb06" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">使用JavaScript插件</h1><p id="fa16" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">上面讨论的两个选项需要JavaScript的中级知识。如果你正在寻找一个更简单的延迟加载实现，而不是使用一个沉重的插件来增加服务器的负载，你可以试试普通的JavaScript插件bLazy。</p><p id="cd77" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">小于2 KB的bLazy库不会给有效负载增加额外的负载，同时允许您轻松处理延迟加载图像。因此，要使用bLazy库，您需要用以下属性初始化<img/>元素:</p><p id="c742" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">class:将所有<img/>标签的类设置为b-lazy <br/> src:链接到占位符图像<br/> data-src:链接到要加载的图像<br/> data-src-small:链接到要在小于420像素宽的屏幕上加载的图像</p><p id="4fab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，你只需要用几行代码<a class="ae kz" href="https://visualmodo.com/5-signs-you-need-web-development-help/" rel="noopener ugc nofollow" target="_blank">初始化bLazy库</a>，所有的图片都将通过延迟加载完成。</p><blockquote class="lf lg lh"><p id="85cb" class="ir is li it b iu iv iw ix iy iz ja jb lj jd je jf lk jh ji jj ll jl jm jn jo hn dt translated"><script src="”blazy.js”"> </script> <br/> &lt;脚本&gt;<br/>；(function() { <br/> //初始化<br/>var bLazy = new bLazy()；<br/>})()；<br/>&lt;/脚本&gt;</p></blockquote><h1 id="3e91" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">使用WordPress懒惰加载插件</h1><p id="1391" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">所有这些插件都会自动为你处理延迟加载。每一款都有一些不错的特性。例如，WP Rocket的惰性加载也惰性加载YouTube视频，并用缩略图替换它们。</p><p id="6543" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Optimole除了是ThemeIsle家族的最新成员之外，还为您提供了坚如磐石的图像优化(如这里测试的那样),在这方面具有相当先进的功能。例如，它可以根据用户的屏幕大小动态调整大小。Optimole的图像优化和延迟加载。像大多数插件一样，要获得延迟加载，只需安装插件并在插件的控制面板中启用该功能:</p></div></div>    
</body>
</html>