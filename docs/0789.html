<html>
<head>
<title>How To Add MetaData In WordPress Posts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在WordPress文章中添加元数据</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/how-to-add-metadata-in-wordpress-posts-69bf713760de?source=collection_archive---------0-----------------------#2019-12-08">https://medium.com/visualmodo/how-to-add-metadata-in-wordpress-posts-69bf713760de?source=collection_archive---------0-----------------------#2019-12-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="7b67" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你想学习如何在WordPress博客文章中显示文章元数据吗？文章元数据是关于你的博客文章的相关信息，如发表日期、类别、作者姓名等。在这篇文章中，我们将向你展示如何在WordPress文章中显示文章元数据。</p><h1 id="7383" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">Post元数据代表什么？</h1><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff kn"><img src="../Images/e4f6f4772a2383d2ea9601ddc905641c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*66d6rR9U7KhQGFuY.png"/></div></div></figure><p id="0e10" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，post元数据部分包含一篇博客文章的相关信息，比如发表日期、作者姓名、类别、标签和定制分类法等。其次，如果你有一个博客，那么你应该确保你的帖子的元数据是正确的，因为这些信息可以帮助访问者了解更多关于帖子的信息，也可以通过使你的网站更容易导航来帮助增加你的页面浏览量。</p><h1 id="dcbc" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">如何在WordPress中显示帖子元数据？</h1><p id="ab5f" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">发布元数据的位置因主题而异。有些可能显示在文章标题之前，有些显示在标题之后，有些显示在内容之后。然而，太多的帖子会弄乱布局。理想的情况是只显示你认为必要的信息。现在让我们看看如何定制和添加post meta。</p><h1 id="15d7" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">自定义帖子元数据</h1><p id="b00a" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">如前所述，帖子的位置因主题而异。这里我们将处理一个特定的主题——在本例中，默认的TwentySeventeen主题，所以请记住代码和页面可能与您的主题不同。</p><p id="c14d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在现代主题中，post meta是在模板标签页中定义的，需要时会被调用，但是在一些主题中，你可能会发现post meta直接放在post title的前面或后面。一般来说，你会在index.php的、、<em class="lf">、</em>和<em class="lf">内容模板</em>页面中找到帖子元标签。一个简单的代码应该是这样的:</p><h1 id="e430" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">发布于</h1><pre class="ko kp kq kr fq lg lh li lj aw lk dt"><span id="2c3f" class="ll jq hu lh b fv lm ln l lo lp">&lt;?php the_time('F jS, Y'); ?&gt; by &lt;?php the_author_posts_link(); ?&gt; &lt;?php edit_post_link(); ?&gt;</span></pre><p id="cc98" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这段代码将显示类似于作者姓名在日期上发布的<em class="lf">的内容，并带有编辑按钮(仅当您登录仪表板时)。然而，现在大多数现代主题都使用模板标签页面来处理post meta。让我们看看它是如何工作的。首先，在进行任何更改之前，您必须创建一个子主题。</em></p><p id="8aaa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将在一个单一的职位网页上工作，这是它从前端看起来。假设我们想在作者的名字前添加一个用户图标，这样做如下:在217主题中，<em class="lf">一个single.php</em>模板用于显示一篇文章。现在查找get_template_part，注意那里的模板路径，在我们的例子中，路径是:</p><pre class="ko kp kq kr fq lg lh li lj aw lk dt"><span id="8693" class="ll jq hu lh b fv lm ln l lo lp">get_template_part( 'template-parts/post/content', get_post_format() );</span></pre><h1 id="295e" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">Content.php</h1><p id="98fc" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">现在根据路径打开<em class="lf">content.php</em>并搜索<em class="lf">条目-标题</em>部分。</p><pre class="ko kp kq kr fq lg lh li lj aw lk dt"><span id="7ab1" class="ll jq hu lh b fv lm ln l lo lp">&lt;header class="entry-header"&gt;</span><span id="4a07" class="ll jq hu lh b fv lq ln l lo lp">&lt;?php</span><span id="721f" class="ll jq hu lh b fv lq ln l lo lp">if ( 'post' === get_post_type() ) {</span><span id="0d10" class="ll jq hu lh b fv lq ln l lo lp">echo '&lt;div class="entry-meta"&gt;';</span><span id="0431" class="ll jq hu lh b fv lq ln l lo lp">if ( is_single() ) {</span><span id="4497" class="ll jq hu lh b fv lq ln l lo lp">twentyseventeen_posted_on();</span><span id="c3ba" class="ll jq hu lh b fv lq ln l lo lp">} else {</span><span id="3cb8" class="ll jq hu lh b fv lq ln l lo lp">echo twentyseventeen_time_link();</span><span id="fa12" class="ll jq hu lh b fv lq ln l lo lp">twentyseventeen_edit_link();</span><span id="15ca" class="ll jq hu lh b fv lq ln l lo lp">};</span><span id="35f0" class="ll jq hu lh b fv lq ln l lo lp">echo '&lt;/div&gt;&lt;!-- .entry-meta --&gt;';</span><span id="71a5" class="ll jq hu lh b fv lq ln l lo lp">};</span><span id="b433" class="ll jq hu lh b fv lq ln l lo lp">if ( is_single() ) {</span><span id="60b0" class="ll jq hu lh b fv lq ln l lo lp">the_title( '&lt;h1 class="entry-title"&gt;', '&lt;/h1&gt;' );</span><span id="db08" class="ll jq hu lh b fv lq ln l lo lp">} elseif ( is_front_page() &amp;&amp; is_home() ) {</span><span id="2761" class="ll jq hu lh b fv lq ln l lo lp">the_title( '&lt;h3 class="entry-title"&gt;&lt;a href="' . esc_url( get_permalink() ) . '" rel="bookmark"&gt;', '&lt;/a&gt;&lt;/h3&gt;' );</span><span id="917b" class="ll jq hu lh b fv lq ln l lo lp">} else {</span><span id="810c" class="ll jq hu lh b fv lq ln l lo lp">the_title( '&lt;h2 class="entry-title"&gt;&lt;a href="' . esc_url( get_permalink() ) . '" rel="bookmark"&gt;', '&lt;/a&gt;&lt;/h2&gt;' );</span><span id="e3dc" class="ll jq hu lh b fv lq ln l lo lp">}</span><span id="ed93" class="ll jq hu lh b fv lq ln l lo lp">?&gt;</span><span id="399f" class="ll jq hu lh b fv lq ln l lo lp">&lt;/header&gt;</span><span id="af76" class="ll jq hu lh b fv lq ln l lo lp">&lt;!-- .entry-header --&gt;</span></pre><p id="7547" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以看到twenty Tencent _ posted _ on()；函数在这里被调用来显示文章元数据，我们必须编辑这个文章元数据函数。你会在template-tags.php的文件中找到这个函数。提示:检查主题的function.php<em class="lf">文件以获得文件名和路径。</em></p><p id="e268" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">搜索twentyseventeen _ posted _ on()并将整个函数复制粘贴到您的子主题的function.php文件中(如果您的子主题中没有function.php<em class="lf">文件，则创建一个同名的空白文件)。</em></p><p id="d436" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将在这里使用字体牛逼图标，在WordPress中使用字体牛逼最简单的方法是安装更好的字体牛逼插件。</p><pre class="ko kp kq kr fq lg lh li lj aw lk dt"><span id="48c8" class="ll jq hu lh b fv lm ln l lo lp">if ( ! function_exists( 'twentyseventeen_posted_on' ) ) :</span><span id="bc88" class="ll jq hu lh b fv lq ln l lo lp">/**</span><span id="913c" class="ll jq hu lh b fv lq ln l lo lp">* Prints HTML with meta information for the current post-date/time and author.</span><span id="5aae" class="ll jq hu lh b fv lq ln l lo lp">*/</span><span id="d541" class="ll jq hu lh b fv lq ln l lo lp">function twentyseventeen_posted_on() {</span><span id="9295" class="ll jq hu lh b fv lq ln l lo lp">// Get the author name; wrap it in a link.</span><span id="34c6" class="ll jq hu lh b fv lq ln l lo lp">$byline = sprintf(</span><span id="5815" class="ll jq hu lh b fv lq ln l lo lp">/* translators: %s: post author */</span><span id="aedc" class="ll jq hu lh b fv lq ln l lo lp">__( 'by %s', 'twentyseventeen' ),</span><span id="8941" class="ll jq hu lh b fv lq ln l lo lp">'&lt;span class="author vcard"&gt;&lt;a class="url fn n" href="' . esc_url( get_author_posts_url( get_the_author_meta( 'ID' ) ) ) . '"&gt;&lt;i class="fa fa-user" aria-hidden="true"&gt;&lt;/i&gt;' . get_the_author() . '&lt;/a&gt;&lt;/span&gt;'</span><span id="f7ea" class="ll jq hu lh b fv lq ln l lo lp">);</span><span id="420c" class="ll jq hu lh b fv lq ln l lo lp">// Finally, let's write all of this to the page.</span><span id="f76b" class="ll jq hu lh b fv lq ln l lo lp">echo '&lt;span class="posted-on"&gt;' . twentyseventeen_time_link() . '&lt;/span&gt;&lt;span class="byline"&gt; ' . $byline . '&lt;/span&gt;';</span><span id="ba8a" class="ll jq hu lh b fv lq ln l lo lp">}</span><span id="caa3" class="ll jq hu lh b fv lq ln l lo lp">endif;</span></pre><p id="fd5c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在你可以在作者的名字旁边看到一个用户图标。提示:你可以直接在<em class="lf">content.php</em>文件中做这些修改，但是遵循主题结构是一个很好的实践。</p><h1 id="0342" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">添加帖子元数据</h1><p id="71bd" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">到目前为止，我们已经自定义现有的元标签。现在来收拾一下。假设我们想在文章标题后显示类别和标签。为此，从父主题中复制<em class="lf">content.php</em>文件并粘贴到您的子主题中，保持相同的目录模式。二十七子&gt;模板-零件&gt;岗位&gt;content.php到二十七子&gt;模板-零件&gt;岗位&gt;content.php</p><p id="f7ae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在你必须写一个新的函数。觉得很难吗？实际上不是，这是你需要做的。大多数主题会在文章的某个地方显示类别和标签，你只需要找到文件并在你的函数中复制代码就行了。</p><p id="c766" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在我们的例子中，217个主题类别和标签被放在内容之后。现在我们需要遵循我们之前的工作流程。首先，打开<em class="lf">content.php</em>，看看哪个函数用于类别和标签来编辑WordPress帖子元数据</p><h1 id="fb80" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">代码示例</h1><blockquote class="lr ls lt"><p id="10ca" class="ir is lf it b iu iv iw ix iy iz ja jb lu jd je jf lv jh ji jj lw jl jm jn jo hn dt translated"><?php if ( is_single() ) { twentyseventeen_entry_footer(); } ??>这里是twentyseventeen _ entry _ footer()。现在转到template-tags.php文件，搜索twentyseventeen _ entry _ footer()。如果(！function _ exists(' twenty Tencent _ entry _ footer '):/* * *打印包含类别、标签和注释的元信息的HTML。*/function twenty seven _ entry _ footer(){/* translators:用于列表项之间，逗号*/ $separate_meta = __('，'，' twenty seven ')后有一个空格；//获取文章的类别。$ categories _ list = get _ the _ category _ list($ separate _ meta)；//获取帖子的标签。$tags_list = get_the_tag_list('，$ separate _ meta)；//我们不想输出。如果它是空的，请确保它不是空的。if(((twenty seventeen _ categorized _ blog()&amp; &amp; $ categories _ list)| | $ tags _ list)| | get _ edit _ post _ link()){ echo '<footer class="”entry-footer”">'；if(' post ' = = = get _ post _ type()){ if(($ categories _ list &amp; &amp; twenty seventeen _ categorized _ blog())| | $ tags _ list){ echo '<span class="”cat-tags-links”">'；//在显示之前，请确保有多个类别。if(＄categories _ list &amp; &amp; twenty seventeen _ categorized _ blog()){ echo '<span class="”cat-links”">'。twenty seven _ get _ SVG(array(' icon ' = &gt; ' folder-open '))。<span class="”screen-reader-text”">’。__('类别'，'第二十七')。</span>’。$categories_list。</span>’；} if(＄tags _ list){ echo '<span class="”tags-links”">'。twenty seven _ get _ SVG(array(' icon ' = &gt; ' hashtag '))。<span class="”screen-reader-text”">’。__( 'Tags '，' twentyseventeen ')。</span>’。$tags_list。</span>’；} echo '</span>'；} } twenty seven _ edit _ link()；回声'</footer></p></blockquote><h1 id="b765" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">Find the Code for Category and Tags</h1><p id="c44e" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">Finally, copy and paste the code for WordPress post meta data in your child theme’s function.php file within a new function, like this –</p><blockquote class="lr ls lt"><p id="8209" class="ir is lf it b iu iv iw ix iy iz ja jb lu jd je jf lv jh ji jj lw jl jm jn jo hn dt translated">if ( ! function_exists( ‘twentyseventeen_post_meta’ ) ) : /** * Prints HTML with meta information for the current post-date/time and author. */ function twentyseventeen_post_meta() { /* translators: used between list items, there is a space after the comma */ $separate_meta = __( ‘, ‘, ‘twentyseventeen’ ); // Get Categories for posts. $categories_list = get_the_category_list( $separate_meta ); // Get Tags for posts. $tags_list = get_the_tag_list( ‘’, $separate_meta ); echo ‘<span class="”cat-tags-links”">'；//在显示之前，请确保有多个类别。if(＄categories _ list &amp; &amp; twenty seventeen _ categorized _ blog()){ echo '<span class="”cat-links”"><i class="”fa" fa-folder-open="" aria-hidden="”true”"/><span class="”screen-reader-text”">'。__('类别'，'第二十七')。</span>’。$categories_list。</span>’；} if(＄tags _ list){ echo '<span class="”tags-links”"><i class="”fa" fa-tags="" aria-hidden="”true”"/><span class="”screen-reader-text”">'。__( 'Tags '，' twentyseventeen ')。</span>’。$tags_list。</span>’；} echo '</span>'；};endif</p></blockquote><h2 id="a59c" class="ll jq hu bd jr lx ly lz jv ma mb mc jz jc md me kd jg mf mg kh jk mh mi kl mj dt translated">定制WordPress文章元数据</h2><p id="4f7a" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">既然我们已经将meta标签放在了我们想要的位置，那么是时候调整一些样式了。如果你知道CSS的基础知识，这是非常简单的。让我们调整我们的类别和标签部分。</p><blockquote class="lr ls lt"><p id="da9e" class="ir is lf it b iu iv iw ix iy iz ja jb lu jd je jf lv jh ji jj lw jl jm jn jo hn dt translated">。条目标题。猫标签链接{ font-size:14px；} .条目标题。cat-links { padding-right:5px；}</p></blockquote><p id="0d0d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以，现在看起来不一样了。但是如果你想显示你自己的自定义图标，而不是字体-awesome或任何其他，那么你可以使用你的图像作为CSS中的背景图像，如下所示:</p><blockquote class="lr ls lt"><p id="b578" class="ir is lf it b iu iv iw ix iy iz ja jb lu jd je jf lv jh ji jj lw jl jm jn jo hn dt translated">。条目标题。cat-links { background:URL(category-img . jpg)左中无重复；左填充:5px填充-右:5px} .条目标题。tags-links { background:URL(tag-img . jpg)左中无重复；左填充:5px填充-右:5px}</p></blockquote><p id="7dcd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦完成，不要忘记从你的<em class="lf">function.php</em>文件中删除字体代码。</p><h1 id="ebec" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">如何删除WordPress中的帖子元数据？</h1><p id="0e0e" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">删除任何帖子元非常简单，只需找到代码并删除它。例如，如果您现在看到我们的单个帖子页面，类别和标签现在出现在两个部分中。如果您不想在内容之后显示它，那么只需从twentyseventeen _ entry _ footer()函数中删除类别和标记代码。所以新代码在你的孩子主题中应该是这样的。</p><blockquote class="lr ls lt"><p id="a6b4" class="ir is lf it b iu iv iw ix iy iz ja jb lu jd je jf lv jh ji jj lw jl jm jn jo hn dt translated">如果(！function _ exists(' twenty Tencent _ entry _ footer '):/* * *打印包含类别、标签和注释的元信息的HTML。*/function twenty seventeen _ entry _ footer(){//我们不想输出。如果它是空的，请确保它不是空的。if(get _ edit _ post _ link()){ echo '<footer class="”entry-footer”">'；twenty seven _ edit _ link()；回声'</footer></p></blockquote></div></div>    
</body>
</html>