<html>
<head>
<title>Set WordPress Browser Caching</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置WordPress浏览器缓存</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/set-wordpress-browser-caching-75bd66d54dcb?source=collection_archive---------0-----------------------#2018-08-25">https://medium.com/visualmodo/set-wordpress-browser-caching-75bd66d54dcb?source=collection_archive---------0-----------------------#2018-08-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="a89c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你正在寻找一个简单的解决方案来利用WordPress中的浏览器缓存吗？或者你可能需要手动使用浏览器缓存。我们将解释提高你的网站加载速度的方法。</p><p id="2ef9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">缓存是最有效的方法之一，以确保您的网站加载速度更快，为您的访客。然而，为了获得最佳结果，你的站点应该告诉浏览器他们需要缓存什么内容。<a class="ae jp" href="https://visualmodo.com/best-wordpress-cache-plugins/" rel="noopener ugc nofollow" target="_blank">缓存</a>插件通常不会让你完全控制这些设置，所以要靠你手动配置。</p><p id="7c17" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">幸运的是，WordPress能让你相当简单地做到这一点。只需要对你的<em class="jq">做一些改变。htaccess </em>文件。在本文中，我们将更多地讨论什么是浏览器缓存，如何检查您的网站是否正确利用它，以及如何配置它。我们开始工作吧！</p><h1 id="0d61" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">浏览器缓存</h1><figure class="kq kr ks kt fq ku fe ff paragraph-image"><div class="fe ff kp"><img src="../Images/cfcf9710197be5e7867ec3b013138712.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/0*_ePInaWXczC4P6Xi.gif"/></div></figure><p id="fc77" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">理想情况下，当有人访问你的网站时，他们的浏览器会在本地保存一些内容，这样就不必在以后的访问中重新加载。这种做法被称为“浏览器缓存”,这就是为什么在您的网站上实施是一个好主意:</p><p id="6dad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">减少装载时间。用户需要加载的资源越少，你的站点应该呈现得越快。</strong></p><p id="7524" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">潜在的较低跳出率。加载时间和跳出率之间有直接关系。前者越高，访问者放弃你的网站的机会就越大。</strong></p><p id="d4ba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">它减少了服务器的工作量。由于回头客不需要从你的服务器上下载内容，所以你也不必努力跟上流量。</strong></p><p id="d78b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">重要的是要明白，在大多数情况下，你不希望浏览器缓存你的整个网站。现在许多网站都包含了大量不断更新的互动内容。这意味着如果用户缓存整个页面，他们可能会错过对页面的更改。</p><p id="c9f0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">考虑到这一点，您需要对告诉浏览器缓存的内容进行挑剔。例如，图像、徽标和级联样式表(<a class="ae jp" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank"> CSS </a>)不会经常改变。这意味着您可以简单地告诉浏览器缓存它们并指定一段时间。理想情况下，网站的缓存配置应该区分定期更新(或不定期更新)的文件类型。这样，用户就不必手动清空缓存来查看你对站点所做的任何更改。</p><h1 id="d48b" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">检查缓存</h1><p id="b204" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">当我们谈到利用WordPress缓存时，我们指的是配置你的网站，让浏览器知道他们需要在本地存储什么内容，以及存储多长时间。查明一个网站是否正确利用浏览器缓存的最简单的方法是使用一种工具，如<a class="ae jp" href="https://developers.google.com/speed/pagespeed/insights/" rel="noopener ugc nofollow" target="_blank"> Google PageSpeed Insights </a>，它可以分析这一设置和其他设置。首先，输入您网站的网址，然后点击<em class="jq">分析</em>按钮:</p><p id="2b08" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PageSpeed Insights将对您的网站在移动和桌面上的优化进行评分。对于你网站的每个“版本”,你会得到一个0-100分的个人分数，以及如何改进的建议。PageSpeed Insights在计算分数时考虑的一个关键因素是您的网站是否利用了浏览器缓存:</p><p id="ca4c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你正确配置了你的WordPress网站，你不会看到上面的消息，你应该会得到一个不错的PageSpeed Insights分数。请记住，Divi在几个方面进行了优化，为您提供现成的体面的PageSpeed Insights评分。然而，有很多方法可以提高你网站的性能，学习这些方法是投入你时间的一个很好的方式。</p><h1 id="57b8" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">设置WordPress浏览器缓存</h1><p id="6b35" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">在过去，我们已经讨论过缓存插件和最常用的选项。如果你不想弄乱你的WordPress站点的配置，这些类型的工具是极好的。但是，如果您不介意在核心文件中添加几行代码，您可以更好地控制浏览器缓存配置。在您继续之前，您应该准备好您网站的最新备份，以防万一！</p><h1 id="f453" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">网站FTP</h1><p id="fdc3" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">在下一部分，你需要访问你的<em class="jq">。htaccess </em>文件并编辑它。最好的方法是通过专用客户端使用文件传输协议(FTP)。我们偏爱FileZilla ，因为它包含了许多功能，而且使用起来相当简单。</p><p id="7f17" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，安装并执行客户端。你会在屏幕顶部看到四个空白字段，分别是<em class="jq">主机</em>、<em class="jq">用户名</em>、<em class="jq">密码</em>和<em class="jq">端口</em>:</p><p id="888f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您需要一组特定的FTP凭据才能使用此协议登录您的网站。在大多数情况下，当你注册托管服务提供商时，你应该已经通过电子邮件收到了。然而，你也应该能够在你的主机仪表板上或者通过cPanel找到它们。</p><p id="c5f3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦您有了凭证，输入它们并点击<em class="jq">快速连接</em>按钮。FileZilla将与您的网站建立连接，一个或几个文件夹应该会出现在屏幕的右下角。其中一个应该是你的WordPress <em class="jq"> root </em>文件夹(也叫<em class="jq"> www </em>，<em class="jq"> public_html </em>，或者以你的网站命名)，它所有的文件都驻留在那里:</p><p id="c50a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">打开目录后，进入第二步！</p><h1 id="3815" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">编辑。htaccess文件</h1><p id="d838" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated"><a class="ae jp" href="https://visualmodo.com/fix-wordpress-internal-server-error/" rel="noopener ugc nofollow" target="_blank"> <em class="jq">。htaccess </em> </a> <em class="jq"> </em>是一个WordPress核心文件，指导你的服务器应该如何提供文件和页面。例如，如果你使用漂亮的永久链接。htaccess 将包含如何处理它们的说明。您还可以配置文件来阻止特定IP对特定页面的访问，等等。</p><p id="909a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这种情况下，我们将使用<em class="jq">。告诉你的服务器缓存哪些文件。为此，请寻找<em class="jq">。htaccess </em>文件在你的<em class="jq">根</em>目录下。点击右键，选择<em class="jq">查看/编辑</em>选项。这将使用本地文本编辑器打开文件，使您能够对其进行更改:</em></p><p id="0014" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在你添加任何新代码到你的<em class="jq">之前。htaccess </em>文件，向下滚动直到你找到那一行。在大多数情况下(包括这种情况)，您希望在该行之前向文件中添加新代码。下面是一个简单的浏览器缓存配置示例，您可以立即实施:</p><p id="2059" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><ifmodule mod_expires.c=""/></p><p id="bdb8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">expire active On<br/>expires bytype image/jpg " access 1 year "<br/>expires bytype image/JPEG " access 1 year "<br/>expires bytype image/gif " access 1 year "<br/>expires bytype image/png " access 1 year "<br/>&lt;/if module&gt;</p><p id="8382" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，如果你正在运行一个WordPress博客，你可能不会经常修改你的文章图片或者你的网站标志。在这种情况下，我们可以将这些文件存储在访问者的浏览器缓存中很长一段时间，比如说一年。在上面的代码中，我们一下子涵盖了所有最流行的图像类型。每行的前半部分表示我们正在处理的文件的类型，第二部分为它设置一个到期日期:</p><p id="eebf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ExpiresByType image/jpg "访问1年"</p><p id="babb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，并不是所有的内容都应该缓存一年，所以我们可以随意使用这个值。在本例中，我们添加了缓存HTML、CSS和JavaScript文件的说明:</p><p id="40f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><ifmodule mod_expires.c=""><br/>expire active On<br/>expires bytype image/jpg " access 1 year "<br/>expires bytype image/JPEG " access 1 year "<br/>expires bytype image/gif " access 1 year "<br/>expires bytype image/png " access 1 year "<br/>expires bytype text/CSS " access 1 week "<br/>expires bytype text/html " access 1 month "<br/>expires bytype text/x-JavaScript " access 1 week "</ifmodule></p><p id="e99b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里，我们将HTML内容设置为在访问者第一次访问一个月后更新，这是一个合理的时间范围。另一方面，当你使用复杂的主题，比如Divi，或者几个插件时，CSS和JavaScript文件往往会发生变化。考虑到这一点，我们将它们的缓存到期日期设置为访问后一周。</p><p id="5e9d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当你用你的<em class="jq">实现那些规则的时候。htaccess </em>文件，您将拥有一个坚实的浏览器缓存基础。让我们通过添加其他文件类型的说明来介绍我们的基础:</p><p id="ced3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><ifmodule mod_expires.c=""><br/>expire active On<br/>expires bytype image/jpg " access 1 year "<br/>expires bytype image/JPEG " access 1 year "<br/>expires bytype image/gif " access 1 year "<br/>expires bytype image/png " access 1 year "<br/>expires bytype text/CSS " access 1 week "<br/>expires bytype text/html " access 1 month "<br/>expires bytype text/x-jav</ifmodule></p><p id="3c75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以<em class="jq"> ExpiresDefault </em>开头的行为所有文件设置一个月的默认缓存时间。但是，您可以通过为特定文件类型添加缓存指令来覆盖它。这里的要点是捕捉其他可能不保证单独规则的文件类型，以进一步提高网站的加载时间。</p><p id="0f51" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，记得保存对你的WordPress <em class="jq">的修改。htaccess </em>文件并关闭你的文本编辑器。FileZilla将询问您是否要覆盖<em class="jq">。htaccess </em>文件，你应该说:“是”。现在继续使用PageSpeed Insights再次测试您的网站——浏览器缓存优化建议应该消失了！</p><h1 id="feac" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">最后的话</h1><p id="e75e" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">为你的网站启用缓存插件很容易。然而，它通常不能让你完全控制它存储在用户电脑上的内容类型，或者存储多长时间。手动方法使您能够为网站内容定制缓存配置，并且实现起来并不困难。</p><p id="52eb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">手动配置浏览器缓存只需对您的<em class="jq">做一些更改。通过FTP访问</em>文件。如果你不怕一点点代码，你应该可以很快地设置它。然后，你可以使用<a class="ae jp" href="https://developers.google.com/speed/pagespeed/insights/" rel="noopener ugc nofollow" target="_blank">Google PageSpeed Insights</a>测试你的网站，看看它是否正确利用了浏览器缓存。</p></div></div>    
</body>
</html>