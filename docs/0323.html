<html>
<head>
<title>How To Add WooCommerce Custom Fields In Registration Form</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在注册表中添加WooCommerce自定义字段</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/how-to-add-woocommerce-custom-fields-in-registration-form-79fe7414b0ca?source=collection_archive---------0-----------------------#2018-08-28">https://medium.com/visualmodo/how-to-add-woocommerce-custom-fields-in-registration-form-79fe7414b0ca?source=collection_archive---------0-----------------------#2018-08-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3d71" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">任何电子商务商店的登记表都是用来收集客户数据的重要方面。借助收集的数据，您可以根据自己的需要和要求对注册客户进行组织和分组。现在看看如何在上面添加<a class="ae jp" href="https://www.wpblog.com/setup-woocommerce-paypal/" rel="noopener ugc nofollow" target="_blank"> WooCommerce </a>自定义字段。</p><p id="3b7b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">WooCommerce是电子商务世界中受欢迎的平台之一。它包括各种有价值的和伟大的功能，对店主很有帮助，同样，它为您提供了设置WooCommerce注册表单的选项。默认情况下，它有两个字段，电子邮件和密码。然而，有时你必须添加你的自定义字段，这也是可以做到的。</p><p id="a6a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以，今天在本教程中，我将教你如何在WooCommerce注册表单中添加自定义字段。</p><h1 id="3410" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">在注册表中添加WooCommerce自定义字段</h1><figure class="kp kq kr ks fq kt fe ff paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="fe ff ko"><img src="../Images/5dcdac6e3d64035982aa6170a1eaa575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uQyRIVJEBTU77IM5.jpg"/></div></div></figure><p id="0010" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要做到这一点，您需要遵循以下步骤:</p><ul class=""><li id="1ee7" class="la lb hu it b iu iv iy iz jc lc jg ld jk le jo lf lg lh li dt translated">启用网络商务注册表单</li><li id="4e7c" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">在WooCommerce注册表单中添加自定义字段</li><li id="2af0" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">向前端添加自定义字段</li><li id="b1c5" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">向自定义字段添加验证</li><li id="eb6f" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">将自定义字段的数据保存到数据库</li></ul><h1 id="d9ca" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">启用网络商务注册表单</h1><p id="c40a" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">打开你的WordPress管理面板，从仪表板左侧导航到<strong class="it hv"> WooCommerce →设置</strong>:</p><p id="e852" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在这里首先点击<strong class="it hv">账户&amp;隐私</strong>选项卡，然后选择复选框<strong class="it hv">允许客户在“我的账户”页面创建账户:</strong></p><p id="5279" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后点击页面底部的<strong class="it hv">保存更改</strong>:</p><p id="87d1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">进入账户页面，你会看到默认的WooCommerce注册表单:</p><h1 id="eb3a" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">在注册表中添加WooCommerce自定义字段</h1><p id="2876" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">从仪表板左侧导航到<strong class="it hv">外观→编辑器</strong>:</p><p id="4987" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在右边你会看到<strong class="it hv">主题文件</strong>部分，在这里点击<strong class="it hv">functions.php</strong>打开该文件:</p><p id="2d23" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在你会看到你的<strong class="it hv">functions.php</strong>文件的编辑器:</p><p id="78ae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这里，您将在WooCommerce注册表单中添加自定义字段。</p><h1 id="ca90" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">向前端添加自定义字段</h1><p id="f6d4" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">首先，将您的自定义字段添加到WooCommerce注册表单的前端。为此，在functions.php的末尾添加以下代码:</p><p id="60fc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">函数woo com _ extra _ register _ fields(){？&gt;</p><p id="58a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><p class="”form-row" form-row-wide=""/></p><p id="33c5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><label for="”reg_billing_first_name”"><?php _e( ‘First name’, ‘woocommerce’ ); ??><span class="”required”">*</span></label><input type="”text”" class="”input-text”" name="”billing_first_name”" id="”reg_billing_first_name”" value="”&lt;?php" if="" empty="" esc_attr_e=""/>"/&gt;</p><p id="82fc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><p class="”form-row" form-row-wide=""/></p><p id="2c6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><label for="”reg_billing_last_name”"><?php _e( ‘Last name’, ‘woocommerce’ ); ??><span class="”required”">*</span></label><input type="”text”" class="”input-text”" name="”billing_last_name”" id="”reg_billing_last_name”" value="”&lt;?php" if="" empty="" esc_attr_e=""/>”/&gt;</p><p id="d8ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><?php </root?></p><p id="1f66" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">}</p><p id="240b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">add_action( ‘woocommerce_register_form_start’, ‘woocom_extra_register_fields’ );</p><p id="b89b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">In the above code, I have created function woocom_extra_register_fields() in which I have added the fields <strong class="it hv">(名和姓)</strong>显示在前台。您可以根据需要添加更多字段。我还在每个自定义字段的名称前添加了前缀“billing_ ”,以便将它与账单地址联系起来。以下是您可以添加到WooCommerce注册表单中的所有有效字段的列表，这些字段可以与账单<a class="ae jp" href="https://www.wpblog.com/setup-woocommerce-paypal/" rel="noopener ugc nofollow" target="_blank">地址</a>关联:</p><ul class=""><li id="1b76" class="la lb hu it b iu iv iy iz jc lc jg ld jk le jo lf lg lh li dt translated">帐单名</li><li id="be62" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">帐单_姓氏</li><li id="93b9" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">帐单_地址_1</li><li id="7acc" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">帐单_地址_2</li><li id="3d7a" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">账单_电话</li><li id="196d" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">账单_公司</li><li id="a9ac" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">账单_城市</li><li id="d161" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">账单_邮政编码</li><li id="62f1" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">帐单_国家</li><li id="3e11" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">账单_状态</li><li id="ca3d" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">账单_电子邮件</li></ul><p id="2279" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，为了验证这些字段是否已正确添加到您的WooCommerce注册表单中，请转到您的商店帐户<a class="ae jp" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">页面</a>，在这里您会看到这些字段:</p><h1 id="8af2" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">向自定义字段添加验证</h1><p id="0ac9" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">随着您的WooCommerce注册表单字段的添加，现在要为这些字段添加验证，请在前面的<a class="ae jp" href="https://visualmodo.com/blog/" rel="noopener ugc nofollow" target="_blank">函数</a>结束后添加以下代码:</p><p id="ce74" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">函数woo com _ validate _ extra _ register _ fields($用户名，$电子邮件，$验证_错误)</p><p id="b6af" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">{</p><p id="b453" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">if (isset($_POST['计费名字']) &amp;&amp; empty($_POST['计费名字']){</p><p id="bb15" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">$ validation _ errors-&gt; add(' billing _ First _ Name _ error '，__('名字是必需的！'、‘woo commerce’))；</p><p id="c796" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">}</p><p id="f37e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">if (isset($_POST['账单姓氏']) &amp;&amp; empty($_POST['账单姓氏']){</p><p id="f084" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">$ validation _ errors-&gt; add(' billing _ Last _ Name _ error '，__('姓氏是必需的！'、‘woo commerce’))；</p><p id="b131" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">}</p><p id="888d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">返回$ validation _ errors</p><p id="bb3b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">}</p><p id="aaeb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">add _ action(' woo commerce _ register _ post '，' woo com _ validate _ extra _ register _ fields '，10，3)；</p><p id="2cf4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上面的代码中。我已经创建了函数woo com _ validate _ extra _ register _ fields($ username，$email，$validation_errors)，在其中我设置了验证，如果创建的自定义字段为空，则显示消息。我设置了这条消息:</p><ul class=""><li id="2e2d" class="la lb hu it b iu iv iy iz jc lc jg ld jk le jo lf lg lh li dt translated">名字字段，名字是必需的！</li><li id="a5e5" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">姓氏字段，姓氏为必填项！</li></ul><h1 id="b167" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">将自定义字段的数据保存到数据库</h1><figure class="kp kq kr ks fq kt fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/fe9d96928c54064a241bf7259b490bef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aE7VKnAGZE6yH3Os.jpg"/></div></figure><p id="06ed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，要保存这些自定义字段的数据，您必须将其添加到数据库中。为此，请在前一个函数的末尾添加以下代码:</p><p id="435a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">函数woo com _ save _ extra _ register _ fields($ customer _ id){</p><p id="a0c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">if(isset($ _ POST[' billing _ first _ name ']){</p><p id="dcaa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">update_user_meta($customer_id，' billing_first_name '，sanitize _ text _ field($ _ POST[' billing _ first _ name '])；</p><p id="1dee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">}</p><p id="c782" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">if(isset($ _ POST[' billing _ last _ name ']){</p><p id="bcf2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">update_user_meta($customer_id，' billing_last_name '，sanitize _ text _ field($ _ POST[' billing _ last _ name '])；</p><p id="4bac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">}</p><p id="0358" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt">}</p><p id="2ba4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">add _ action(' woo commerce _ created _ customer '，' woo com _ save _ extra _ register _ fields ')；</p><p id="09b7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上面的代码中。我已经创建了函数woo com _ save _ extra _ register _ fields($ customer _ id)，它将在数据库中保存自定义字段的数据。</p><p id="b7cf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">完成后，只需点击编辑器底部的更新文件:</p><p id="65d8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是时候验证自定义字段的数据是否保存在数据库中了？要检查它，注册帐户，然后前往您的帐单地址。在这里，您会看到名字和姓氏被自动添加到帐单地址:</p><p id="5321" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这意味着自定义字段已成功添加到您的WooCommerce注册表单中。</p><h1 id="323f" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">结论</h1><p id="604c" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">现在，在这个指南的帮助下，你可以轻松地将自定义字段添加到你的WooCommerce <a class="ae jp" href="https://www.wpblog.com/" rel="noopener ugc nofollow" target="_blank">注册</a>表单中。不要忘记留下您的反馈，或者如果您有任何疑问，请随时提出！</p><h1 id="e6e7" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">作者</h1><p id="a665" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated"><a class="ae jp" href="https://www.wpblog.com/" rel="noopener ugc nofollow" target="_blank"> WP博客</a>致力于让你在WP博客魔法领域起步并运行——不涉及魔杖！</p></div></div>    
</body>
</html>