<html>
<head>
<title>Contact From WordPress Creation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WordPress创建联系人</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/contact-from-wordpress-creation-c007dc25c9a4?source=collection_archive---------0-----------------------#2017-10-25">https://medium.com/visualmodo/contact-from-wordpress-creation-c007dc25c9a4?source=collection_archive---------0-----------------------#2017-10-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="7395" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">大多数网站通常被设计成符合标准的web实践，包括一个专门的页面，在该页面上有一个联系表单。这为访问者提供了一种联系网站所有者的简单方式。</p><p id="248c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">简单来说，联系表单有一组问题和字段，由访问者填写。这些信息通常会通过电子邮件自动发送到网站管理员或另一个指定的电子邮件帐户。值得注意的是，该电子邮件地址不会向访问者显示，因此使用联系表单通常会减少来自在互联网上收集裸露电子邮件地址的机器人的垃圾电子邮件。联系方式在网站上起着非常重要的作用，它们被用来收集用户的反馈、询问和其他数据。</p><p id="e243" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">[caption id = " attachment _ 54477 " align = " align center " width = " 1424 "]</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/4c8d19e2c62e0ed37f4472878736e03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WFLR-YyMXZn6tB0Q.png"/></div></div></figure><p id="0faa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">WordPress Creation的联系人[/caption]</p><p id="79f8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你的网站是由WordPress驱动的，有许多插件可以无缝集成你网站上的联系人表单。</p><p id="bc43" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这篇文章中，我将提供一些免费的WordPress联系表单插件列表。我还将讨论为什么你应该考虑滚动自己的联系方式。然后，我将为你提供一个简短的教程，向你展示如何构建你自己的WordPress联系人表单插件。</p><h1 id="f2bb" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">WordPress联系人表单插件</h1><p id="b469" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">在我们开始之前，我们将回顾一下<a class="ae le" href="https://wordpress.org/plugins/" rel="noopener ugc nofollow" target="_blank"> WordPress插件目录</a>中的一些流行的免费联系表单插件。这些都很好用，但是当你开始构建你自己的插件时，学习它们会更好。</p><p id="87a5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以下是WordPress的一些评价最高的免费联系表单插件:</p><ol class=""><li id="ee4b" class="lf lg hu it b iu iv iy iz jc lh jg li jk lj jo lk ll lm ln dt translated"><a class="ae le" href="http://wordpress.org/plugins/contact-form-7/" rel="noopener ugc nofollow" target="_blank">联系方式7</a>——这是第二个<a class="ae le" href="http://wordpress.org/plugins/browse/popular/" rel="noopener ugc nofollow" target="_blank">最受欢迎的插件</a>，下载量超过1800万，它几乎可以被认为是WordPress网站事实上的联系方式插件。Contact Form 7可以管理多个联系人表单，您可以使用简单的标记来自定义表单和电子邮件内容。表单功能包括Ajax支持的提交、验证码、Akismet垃圾邮件过滤等等。</li><li id="21ed" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln dt translated"><a class="ae le" href="https://wordpress.org/plugins/contact-form-to-email/" rel="noopener ugc nofollow" target="_blank">电子邮件联系表单</a> —该插件不仅创建联系表单并将数据发送到指定的电子邮件地址，还将联系表单数据保存到数据库中，提供可打印的报告以及将所选数据导出到CSV/Excel文件的选项。</li><li id="c244" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln dt translated"><a class="ae le" href="http://wordpress.org/plugins/formget-contact-form/" rel="noopener ugc nofollow" target="_blank">表单获取联系表单</a>——一个简单的在线拖放联系表单构建工具。你所要做的就是点击表格中你想要的字段，几秒钟后你的联系表格就准备好了。</li><li id="89df" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln dt translated"><a class="ae le" href="http://wordpress.org/plugins/contact-form-plugin/" rel="noopener ugc nofollow" target="_blank"> Bestwebsoft联系表单</a> —允许您毫不费力地在网页或帖子上实现反馈表单。这是非常容易的，你不需要任何额外的设置，即使有一些可以玩。</li></ol><p id="a0d1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">[caption id = " attachment _ 54478 " align = " align center " width = " 2181 "]</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lt"><img src="../Images/8a93fa370900b14f27d38e681cb4ee65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2wDuZ8WhvTsJTN2u.png"/></div></div></figure><p id="de04" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">来自WordPress创建联系人表单7的联系人</p><h1 id="8998" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">为什么要推出自己的联系人表单插件？</h1><h1 id="041f" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">成为更好的开发者</h1><p id="8e5f" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">开发你自己的WordPress插件可以帮助你更好地理解WordPress是如何“在幕后”工作的，这可以帮助你成为一个更有经验的web开发者。虽然WordPress插件目录中有成千上万的插件可供使用，但是能够修改和扩展其他插件是一项非常有用的技能。</p><h1 id="4a76" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">构建更好的表单</h1><p id="fc5f" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">很多WordPress联系人表单插件都很臃肿。它们包括许多您可能永远不会使用的功能。大量使用JavaScript和CSS文件在一些标准联系人表单插件中也很常见。这增加了HTTP请求的数量，对WordPress的性能有负面影响。</p><p id="5d54" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">根据雅虎的业绩规则:</p><blockquote class="lu lv lw"><p id="2567" class="ir is lx it b iu iv iw ix iy iz ja jb ly jd je jf lz jh ji jj ma jl jm jn jo hn dt translated"><em class="hu"> 80%的最终用户响应时间花费在前端。大部分时间被用于下载页面中的所有组件:图像、样式表、脚本、Flash等。减少组件的数量反过来也减少了呈现页面所需的HTTP请求的数量。这是加快页面速度的关键。</em></p></blockquote><p id="32dd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你和我一样，想要一个简单的联系方式插件，请继续读下去。我将指导你完成开发你自己的插件的简单过程，这样你就可以告别臃肿的插件了。在这个例子中，不需要额外的CSS和JavaScript文件，验证使用HTML5完成。</p><h1 id="42f3" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">联系人表单插件开发</h1><p id="5c49" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">在五分钟内，你将学会如何开发一个简单的WordPress联系方式，这是一个承诺！</p><p id="4a29" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">准备好了吗？设置？走吧。</p><p id="019a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有的WordPress pluigns都是PHP文件，位于<code class="eh mb mc md me b">/wp-content/plugins/ directory</code>中。在我们的例子中，这个文件将被称为<code class="eh mb mc md me b">sp-form-example.php</code>。我假设您已经习惯了使用FTP/SFTP/SCP或SSH连接到您的服务器。</p><p id="a98c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您想继续学习，只需创建一个名为<code class="eh mb mc md me b">sp-form-example.php</code>的文件(最终的完整示例将在本文末尾提供):</p><pre class="jq jr js jt fq mf me mg mh aw mi dt"><span id="018f" class="mj kc hu me b fv mk ml l mm mn">&lt;?php<br/>/*<br/>Plugin Name: Example Contact Form Plugin<br/>Plugin URI: http://example.com<br/>Description: Simple non-bloated WordPress Contact Form<br/>Version: 1.0<br/>Author: Agbonghama Collins<br/>Author URI: http://w3guy.com<br/>*/<br/>    //<br/>    // the plugin code will go here..<br/>    //<br/>?&gt;</span></pre><p id="1c6b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，我们添加包含联系人表单HTML的函数<code class="eh mb mc md me b">html_form_code()</code>:</p><pre class="jq jr js jt fq mf me mg mh aw mi dt"><span id="1d0d" class="mj kc hu me b fv mk ml l mm mn">function html_form_code() {<br/>    echo '&lt;form action="' . esc_url( $_SERVER['REQUEST_URI'] ) . '" method="post"&gt;';<br/>    echo '&lt;p&gt;';<br/>    echo 'Your Name (required) &lt;br /&gt;';<br/>    echo '&lt;input type="text" name="cf-name" pattern="[a-zA-Z0-9 ]+" value="' . ( isset( $_POST["cf-name"] ) ? esc_attr( $_POST["cf-name"] ) : '' ) . '" size="40" /&gt;';<br/>    echo '&lt;/p&gt;';<br/>    echo '&lt;p&gt;';<br/>    echo 'Your Email (required) &lt;br /&gt;';<br/>    echo '&lt;input type="email" name="cf-email" value="' . ( isset( $_POST["cf-email"] ) ? esc_attr( $_POST["cf-email"] ) : '' ) . '" size="40" /&gt;';<br/>    echo '&lt;/p&gt;';<br/>    echo '&lt;p&gt;';<br/>    echo 'Subject (required) &lt;br /&gt;';<br/>    echo '&lt;input type="text" name="cf-subject" pattern="[a-zA-Z ]+" value="' . ( isset( $_POST["cf-subject"] ) ? esc_attr( $_POST["cf-subject"] ) : '' ) . '" size="40" /&gt;';<br/>    echo '&lt;/p&gt;';<br/>    echo '&lt;p&gt;';<br/>    echo 'Your Message (required) &lt;br /&gt;';<br/>    echo '&lt;textarea rows="10" cols="35" name="cf-message"&gt;' . ( isset( $_POST["cf-message"] ) ? esc_attr( $_POST["cf-message"] ) : '' ) . '&lt;/textarea&gt;';<br/>    echo '&lt;/p&gt;';<br/>    echo '&lt;p&gt;&lt;input type="submit" name="cf-submitted" value="Send"/&gt;&lt;/p&gt;';<br/>    echo '&lt;/form&gt;';<br/>}</span></pre><p id="1b97" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过<code class="eh mb mc md me b">pattern</code>输入属性将基本验证添加到表单中。</p><p id="6e0c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">联系人表单中的正则表达式执行以下字段验证:</p><ul class=""><li id="57ad" class="lf lg hu it b iu iv iy iz jc lh jg li jk lj jo mo ll lm ln dt translated"><strong class="it hv">【a-zA-Z0–9】</strong>:名称字段只允许字母、空格和数字；特殊符号被视为无效。</li><li id="2924" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo mo ll lm ln dt translated"><strong class="it hv">【a-zA-Z】</strong>:主题字段只允许字母和空格。</li><li id="382c" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo mo ll lm ln dt translated"><code class="eh mb mc md me b">email</code>表单控件验证电子邮件字段，因此不需要模式属性。</li></ul><h1 id="455b" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">快一点！</h1><p id="cc78" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">好吧，我们还剩多少分钟？四分钟！我们还有时间结束这一切。</p><p id="52f8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">函数<code class="eh mb mc md me b">deliver_mail()</code>清理表单数据并将邮件发送到WordPress管理员的电子邮件地址。</p><pre class="jq jr js jt fq mf me mg mh aw mi dt"><span id="d5ed" class="mj kc hu me b fv mk ml l mm mn">function deliver_mail() {</span><span id="6cec" class="mj kc hu me b fv mp ml l mm mn">    // if the submit button is clicked, send the email<br/>    if ( isset( $_POST['cf-submitted'] ) ) {</span><span id="8489" class="mj kc hu me b fv mp ml l mm mn">        // sanitize form values<br/>        $name    = sanitize_text_field( $_POST["cf-name"] );<br/>        $email   = sanitize_email( $_POST["cf-email"] );<br/>        $subject = sanitize_text_field( $_POST["cf-subject"] );<br/>        $message = esc_textarea( $_POST["cf-message"] );</span><span id="2db9" class="mj kc hu me b fv mp ml l mm mn">        // get the blog administrator's email address<br/>        $to = get_option( 'admin_email' );</span><span id="ad62" class="mj kc hu me b fv mp ml l mm mn">        $headers = "From: $name &lt;$email&gt;" . "\r\n";</span><span id="dfc4" class="mj kc hu me b fv mp ml l mm mn">        // If email has been process for sending, display a success message<br/>        if ( wp_mail( $to, $subject, $message, $headers ) ) {<br/>            echo '&lt;div&gt;';<br/>            echo '&lt;p&gt;Thanks for contacting me, expect a response soon.&lt;/p&gt;';<br/>            echo '&lt;/div&gt;';<br/>        } else {<br/>            echo 'An unexpected error occurred';<br/>        }<br/>    }<br/>}</span></pre><p id="b74a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">表格数据的清理由以下WordPress内部函数完成:</p><ul class=""><li id="4b05" class="lf lg hu it b iu iv iy iz jc lh jg li jk lj jo mo ll lm ln dt translated"><code class="eh mb mc md me b">sanitize_text_field()</code>:整理用户输入的数据。</li><li id="ec40" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo mo ll lm ln dt translated"><code class="eh mb mc md me b">sanitize_email()</code>:去掉邮件中不允许的所有字符。</li><li id="7b03" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo mo ll lm ln dt translated"><code class="eh mb mc md me b">esc_textarea()</code>:转义<em class="lx">消息</em>文本区值。</li></ul><p id="38a9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">代码<code class="eh mb mc md me b">get_option( 'admin_email' )</code>以编程方式从数据库中检索WordPress管理员的电子邮件地址，电子邮件将被发送到该数据库。</p><p id="c3b5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不希望联系人表单将邮件发送给管理员？只需将变量<code class="eh mb mc md me b">$to</code>设置为所需的电子邮件地址。</p><p id="135e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果功能<code class="eh mb mc md me b">wp_mail()</code>已成功处理该电子邮件，并且没有任何错误，将显示文本<em class="lx">感谢联系我，期待尽快回复</em>，否则将显示<em class="lx">出现意外错误</em>。</p><h1 id="cf44" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">还剩1分30秒</h1><p id="19fe" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">函数<code class="eh mb mc md me b">cf_shortcode()</code>是当联系人表单短代码<code class="eh mb mc md me b">[sitepoint_contact_form]</code>激活时调用的回调函数。</p><pre class="jq jr js jt fq mf me mg mh aw mi dt"><span id="e64f" class="mj kc hu me b fv mk ml l mm mn">function cf_shortcode() {<br/>    ob_start();<br/>    deliver_mail();<br/>    html_form_code();</span><span id="66c9" class="mj kc hu me b fv mp ml l mm mn">    return ob_get_clean();<br/>}</span></pre><p id="eb6f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以上函数调用<code class="eh mb mc md me b">html_form_code()</code>和<code class="eh mb mc md me b">deliver_mail()</code>函数分别显示联系人表单HTML表单和验证表单数据。</p><p id="30ff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，短代码<code class="eh mb mc md me b">[sitepoint_contact_form]</code>被注册到WordPress。所以简单补充一下:</p><pre class="jq jr js jt fq mf me mg mh aw mi dt"><span id="af26" class="mj kc hu me b fv mk ml l mm mn">add_shortcode( 'sitepoint_contact_form', 'cf_shortcode' );</span></pre><h1 id="6c04" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">三，二，一…时间到了！</h1><p id="64a1" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">祝贺你，我们已经成功开发了我们自己的WordPress联系表单插件，我已经实现了我之前的承诺。</p><p id="115b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，要在你的网站上使用这个插件，只需在你的WordPress仪表盘的“插件”部分激活它，然后创建一个帖子或页面，然后只需在你希望表单出现的地方添加简短代码<code class="eh mb mc md me b">[sitepoint_contact_form]</code>。</p><p id="b9c1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您随后预览该页面，您应该会看到如下所示的联系人表单。</p><p id="f86f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">[caption id = " attachment _ 54479 " align = " align center " width = " 396 "]</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mq"><img src="../Images/df2a432dd36332582511a4c3a5c0c2c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/0*csVvU-_CI2Pd9CbZ.png"/></div></figure><p id="4479" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">简单联系方式[/caption]</p><h1 id="aaf9" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结论</h1><p id="6bb9" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">为了进一步理解插件是如何构建的，以及如何在你的WordPress站点上实现它，复制下面的代码，粘贴到一个文件中，并上传到你的<code class="eh mb mc md me b">/wp-content/plugins/ directory</code>。</p><p id="ff75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是完整的插件示例:</p><pre class="jq jr js jt fq mf me mg mh aw mi dt"><span id="c4d0" class="mj kc hu me b fv mk ml l mm mn">&lt;?php<br/>/*<br/>Plugin Name: Example Contact Form Plugin<br/>Plugin URI: http://example.com<br/>Description: Simple non-bloated WordPress Contact Form<br/>Version: 1.0<br/>Author: Agbonghama Collins<br/>Author URI: http://w3guy.com<br/>*/</span><span id="432f" class="mj kc hu me b fv mp ml l mm mn">function html_form_code() {<br/>	echo '&lt;form action="' . esc_url( $_SERVER['REQUEST_URI'] ) . '" method="post"&gt;';<br/>	echo '&lt;p&gt;';<br/>	echo 'Your Name (required) &lt;br/&gt;';<br/>	echo '&lt;input type="text" name="cf-name" pattern="[a-zA-Z0-9 ]+" value="' . ( isset( $_POST["cf-name"] ) ? esc_attr( $_POST["cf-name"] ) : '' ) . '" size="40" /&gt;';<br/>	echo '&lt;/p&gt;';<br/>	echo '&lt;p&gt;';<br/>	echo 'Your Email (required) &lt;br/&gt;';<br/>	echo '&lt;input type="email" name="cf-email" value="' . ( isset( $_POST["cf-email"] ) ? esc_attr( $_POST["cf-email"] ) : '' ) . '" size="40" /&gt;';<br/>	echo '&lt;/p&gt;';<br/>	echo '&lt;p&gt;';<br/>	echo 'Subject (required) &lt;br/&gt;';<br/>	echo '&lt;input type="text" name="cf-subject" pattern="[a-zA-Z ]+" value="' . ( isset( $_POST["cf-subject"] ) ? esc_attr( $_POST["cf-subject"] ) : '' ) . '" size="40" /&gt;';<br/>	echo '&lt;/p&gt;';<br/>	echo '&lt;p&gt;';<br/>	echo 'Your Message (required) &lt;br/&gt;';<br/>	echo '&lt;textarea rows="10" cols="35" name="cf-message"&gt;' . ( isset( $_POST["cf-message"] ) ? esc_attr( $_POST["cf-message"] ) : '' ) . '&lt;/textarea&gt;';<br/>	echo '&lt;/p&gt;';<br/>	echo '&lt;p&gt;&lt;input type="submit" name="cf-submitted" value="Send"&gt;&lt;/p&gt;';<br/>	echo '&lt;/form&gt;';<br/>}</span><span id="a14c" class="mj kc hu me b fv mp ml l mm mn">function deliver_mail() {</span><span id="bab5" class="mj kc hu me b fv mp ml l mm mn">	// if the submit button is clicked, send the email<br/>	if ( isset( $_POST['cf-submitted'] ) ) {</span><span id="f259" class="mj kc hu me b fv mp ml l mm mn">		// sanitize form values<br/>		$name    = sanitize_text_field( $_POST["cf-name"] );<br/>		$email   = sanitize_email( $_POST["cf-email"] );<br/>		$subject = sanitize_text_field( $_POST["cf-subject"] );<br/>		$message = esc_textarea( $_POST["cf-message"] );</span><span id="9508" class="mj kc hu me b fv mp ml l mm mn">		// get the blog administrator's email address<br/>		$to = get_option( 'admin_email' );</span><span id="9a22" class="mj kc hu me b fv mp ml l mm mn">		$headers = "From: $name &lt;$email&gt;" . "\r\n";</span><span id="110c" class="mj kc hu me b fv mp ml l mm mn">		// If email has been process for sending, display a success message<br/>		if ( wp_mail( $to, $subject, $message, $headers ) ) {<br/>			echo '&lt;div&gt;';<br/>			echo '&lt;p&gt;Thanks for contacting me, expect a response soon.&lt;/p&gt;';<br/>			echo '&lt;/div&gt;';<br/>		} else {<br/>			echo 'An unexpected error occurred';<br/>		}<br/>	}<br/>}</span><span id="d8a8" class="mj kc hu me b fv mp ml l mm mn">function cf_shortcode() {<br/>	ob_start();<br/>	deliver_mail();<br/>	html_form_code();</span><span id="b738" class="mj kc hu me b fv mp ml l mm mn">	return ob_get_clean();<br/>}</span><span id="1260" class="mj kc hu me b fv mp ml l mm mn">add_shortcode( 'sitepoint_contact_form', 'cf_shortcode' );</span><span id="e59b" class="mj kc hu me b fv mp ml l mm mn">?&gt;</span></pre><p id="6596" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这只是一个简单的例子。</p><p id="ddb9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有的<a class="ae le" href="https://visualmodo.com/wordpress-themes/" rel="noopener ugc nofollow" target="_blank"> Visualmodo WordPress主题</a>完全兼容所有的联系人表单插件</p></div></div>    
</body>
</html>