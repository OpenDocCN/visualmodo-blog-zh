<html>
<head>
<title>How To Use PHP 7 In WordPress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在WordPress中使用PHP 7</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/how-to-use-php-7-in-wordpress-5b793f7f6d16?source=collection_archive---------0-----------------------#2018-06-01">https://medium.com/visualmodo/how-to-use-php-7-in-wordpress-5b793f7f6d16?source=collection_archive---------0-----------------------#2018-06-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="a907" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PHP 7终于在一段时间前发布了，它有许多很棒的新特性——它也将帮助你保持你的WordPress网站处于最佳状态。现在看看如何在你的WordPress中使用PHP 7来提高速度。</p><p id="c013" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PHP 7是服务器端软件历史上最重要的更新之一，它为超过82%的互联网提供动力，在本指南中，我们将讨论使用它的来龙去脉。</p><p id="94c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将看看PHP 7的<em class="jq">难以置信的</em>优势，并帮助你理解坚持推荐的最低版本(5.6)的<em class="jq">重要性</em>。你还将学习如何检查你的WordPress站点是否为PHP 7做好了准备，并衡量升级到这个新版本的利弊。</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div class="fe ff jr"><img src="../Images/b71c481a95f16ea736be5f6fa6823e09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/0*lU7NVJFqgaj5zOAV.jpg"/></div></figure><p id="ac9b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本指南结束时，你将<em class="jq">装备</em>对PHP的牢固<em class="jq">理解</em>，并且<em class="jq">说服</em>足够更新到<em class="jq">推荐的最低版本</em>——或者甚至可能采取下一步到PHP 7！</p><p id="a65f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们开始吧…</p><h1 id="e79b" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">PHP使用指南——什么是PHP？</h1><p id="9d2b" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">对于那些对这个主题完全陌生的人来说，PHP是一种服务器端脚本语言，旨在根据请求生成HTML页面。<br/>把它想象成一个简单的<strong class="it hv">三步流程:</strong></p><ul class=""><li id="3b2c" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lh li lj lk dt translated"><strong class="it hv">输入:</strong>输入一组以<strong class="it hv"> PHP脚本形式编写的命令，</strong>作为PHP引擎的输入。</li><li id="cc4b" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated"><strong class="it hv">处理:</strong>PHP引擎<strong class="it hv"/><em class="jq">执行<em class="jq">服务器</em>上的</em>脚本。</li><li id="a71e" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated"><strong class="it hv">输出:</strong>输出是由web浏览器呈现的HTML页面。</li></ul><p id="bf66" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上述三步流程中，我们可以识别一些<strong class="it hv">组件</strong>。</p><ol class=""><li id="e6a5" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lq li lj lk dt translated">PHP脚本</li><li id="18ea" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">PHP引擎</li><li id="4940" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">计算机网络服务器</li><li id="78eb" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">输出HTML</li></ol><p id="337b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，让我们看看它们如何与典型的WordPress环境相关联。</p><p id="475d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">1) PHP脚本: WordPress本质上是一个用多种脚本语言编写的庞大的、有组织的代码集合，比如PHP、JavaScript和<a class="ae jp" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank"> CSS </a>，其中最主要的是PHP。这就是WordPress的动态本质。</p><p id="5d32" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 2) PHP引擎:</strong>认为它是<em class="jq">执行</em>PHP脚本中的指令的<strong class="it hv">核心组件</strong>——在运行它的<em class="jq">服务器</em>的帮助下完成。PHP <em class="jq">引擎</em>是最关键的组件之一，影响网站的速度、性能和可靠性。也是我们讨论的中心话题！</p><p id="f92a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">服务器:这是远程计算机，也称为“网络主机”，你的WordPress站点就托管在这里。如果有一个没有安装PHP的web主机，WordPress就不会在上面运行。</p><p id="3672" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 4)输出HTML: </strong>每次加载WordPress网站，PHP引擎都会被召唤。<em class="jq">脚本</em>由<em class="jq"> PHP引擎</em>使用<em class="jq">服务器</em>执行，<em class="jq">最终(或输出)HTML </em>被导出到访问者的网络浏览器。这就完成了整个过程。</p><h1 id="c3ad" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">PHP 7是什么？</h1><p id="8fe3" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">现在我们清楚了什么是PHP脚本，让我们来谈谈PHP引擎。在本文的剩余部分，我们将同义地使用术语<strong class="it hv">‘PHP引擎’</strong>和<strong class="it hv">‘PHP’</strong>。</p><p id="91c7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PHP 7是一个PHP引擎，于2016年12月推出，具有大量新功能、性能改进和安全增强。如同每一堂好课一样，让我们从一点历史开始。</p><h1 id="9c24" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">PHP简史</h1><figure class="js jt ju jv fq jw fe ff paragraph-image"><div class="fe ff lr"><img src="../Images/622c4a1ddbc9cc76920b8e5c70e0e110.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/0*SthbiXSogS9XGIGX.png"/></div></figure><p id="09c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PHP于1994年作为一种脚本语言由拉斯马斯·勒德尔夫发布，目的是创造一种工具，使更新他的个人主页变得容易。<strong class="it hv"><em class="jq">*他一点也不知道这个副业会发展成为超过82%的网站的动力——包括像* </em>脸书</strong>和<strong class="it hv"> WordPress </strong>这样的大网站。</p><p id="40ff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">多年来，PHP已经发布了几个版本。第一个版本是在1995年，随后是1997年的2.0版本。1998年发布了3.0版，随后在2000年发布了4.0版。</p><p id="c45f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是预期让PHP 7变得特别吗？</p><p id="5eea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是事情开始变得有趣的地方。PHP第5版于四年后的2004年发布。它继续有<strong class="it hv">多次</strong>迭代——以至于委员会决定<em class="jq">跳过</em>版本6，跳到版本7。客观地说，PHP 5的第一次迭代是2004年发布的5.0版本。它的最后一个迭代，PHP 5.6，发布于十年后的2014年。</p><p id="c790" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">两年后，PHP 7出现了——迄今为止最有前途的PHP版本。从本质上说，世界不得不等待整整12年才得到PHP 7。</p><h1 id="cfcb" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">PHP 7中的性能改进</h1><p id="de5f" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">等待没有白费。PHP 7带来了大量的性能和安全性改进。让我们深入了解每一项性能改进，并辅以可靠的基准测试。</p><h1 id="c865" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">1)大幅提高带宽(每秒请求数)</h1><p id="801f" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">运行WordPress 4.1.1，PHP 7的性能几乎是PHP 5.6的两倍。</p><p id="9582" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上图中，我们可以看到在不到一半延迟的情况下，<strong class="it hv">的每秒请求数几乎是<strong class="it hv">的2.18倍。</strong></strong></p><h1 id="9299" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">2)降低并发用户的延迟</h1><p id="08da" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">延迟是服务器和客户端之间第一次请求和第一次响应之间经过的时间。延迟越低，服务越好。让我们看看PHP 7是如何处理它的。</p><p id="4044" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们根据每个PHP引擎的并发用户数量的<em class="jq">选取了三个数据点。</em></p><ol class=""><li id="2eff" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lq li lj lk dt translated">橙色条代表十个人同时使用你的网站时的延迟。</li><li id="3fa3" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">蓝色条代表双倍(即20个并发用户)。</li><li id="3459" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">粉色条代表40个同时使用的用户。</li></ol><p id="cf74" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在所有情况下，<strong class="it hv"> PHP 7都将它的前辈打得落花流水。</strong></p><p id="1cf8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"><em class="jq">*所有这些都在* </em>完全相同的硬件上！</strong>这意味着，如果您升级到PHP 7并做好所有必要的兼容性检查(稍后将详细介绍)，您应该会看到性能提高了两倍。</p><h1 id="3df1" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">3) WORDPRESS 4.0以上版本针对PHP 7进行了优化</h1><p id="1d2f" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">WordPress 4.0本身已经被<strong class="it hv">微调</strong>以利用PHP 7的最新特性。<a class="ae jp" href="http://www.zend.com/en/resources/php7_infographic" rel="noopener ugc nofollow" target="_blank">根据Zend </a>的说法，与它的前身WordPress 3.6相比，它在相同硬件上的性能几乎翻了一番。</p><p id="2134" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上面的图表中，我们看到在一个主要的WordPress更新中有一个双倍的性能提升。这个基准是<em class="jq">与<a class="ae jp" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank"> PHP </a>的版本</em>无关。相反，这表明WordPress社区正在为即将到来的PHP版本不断优化代码。</p><h1 id="9232" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">4)减少75%的指令，同样的结果</h1><p id="4171" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">PHP 7还有一个<strong class="it hv">杀手指令集。</strong>它是<strong class="it hv">惊人的优化，可以用更少的指令执行同样的任务</strong>。例如，PHP 5.6上的一个WordPress请求在1亿条CPU指令中执行。而在PHP 7中，同样的请求在2500万条CPU指令中执行。这将<strong class="it hv">完成相同工作所需的<strong class="it hv">命令数量</strong>减少了<strong class="it hv">75%</strong>!</strong></p><h1 id="b15e" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">5)显著的性能提升</h1><p id="09de" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">WP引擎的常驻书呆子Jason Cosper喜欢摆弄最新的PHP引擎，看看哪个效果最好。</p><p id="23c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在他的一次实验中，他发现PHP 7运行WordPress 4.3.1和bbPress的速度比PHP 5.5快6.6倍。</p><h1 id="bd3b" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">2018年Q1 WordPress PHP状态</h1><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="fe ff ls"><img src="../Images/995ab81f9065c497a5148357bd70627e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s6Jf5EX2g-NydPef.jpg"/></div></div></figure><p id="b330" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们对PHP 7的好处有了一个功能性的了解，让我们看看有多少WordPress用户在使用它。</p><p id="a765" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">好消息:</strong>根据<a class="ae jp" href="https://wordpress.org/about/stats/" rel="noopener ugc nofollow" target="_blank">官方WordPress统计数据</a>，截至2017年4月20日，9%的WordPress社区已经升级到PHP 7。</p><p id="e069" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">好的:</strong>大约40%的WordPress用户正在使用PHP 5.6。这是一个相对好的消息，因为PHP 5.6获得安全支持直到2018年12月31日。</p><p id="add2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，真正的坏消息是，超过50%的活跃WordPress网站使用的PHP版本早于5.6，这使得所有这些网站暴露于严重的漏洞问题。</p><ul class=""><li id="919d" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lh li lj lk dt translated">PHP 5.4从2015年开始<a class="ae jp" href="http://php.net/supported-versions.php" rel="noopener ugc nofollow" target="_blank">就没有打</a>的补丁了。</li><li id="67fa" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">而且PHP 5.5从2016年开始就没有打补丁了。</li><li id="fc14" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">如果你使用的是5.6以前的版本(更多关于如何检查你的PHP版本的信息)，请立即更新你的PHP版本。</li></ul><h1 id="29ab" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">希望的灯塔</h1><p id="fb99" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">Yoast SEO的创始人Joost de Valk决定对此做些什么，Yoast SEO是一个拥有超过300万活跃安装的WordPress SEO插件。引用原文:</p><blockquote class="lx ly lz"><p id="f704" class="ir is jq it b iu iv iw ix iy iz ja jb ma jd je jf mb jh ji jj mc jl jm jn jo hn dt translated">从Yoast SEO 4.5开始，我们将在WordPress仪表盘上向运行PHP 5.2的网站管理员显示一个通知。这个通知将是巨大的，丑陋的，不可忽视的。在这个通知中，我们将解释为什么管理员应该升级网站的PHP版本。</p></blockquote><h1 id="d1f7" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">WORDPRESS和PHP的过时版本</h1><p id="ffa6" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">在这一点上，指出<strong class="it hv"> WordPress将继续支持PHP的旧版本</strong>是很重要的。这并不意味着你可以高枕无忧。升级到5.6对我们最有利——如果不是PHP 7的话。</p><p id="a2fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你使用的是PHP 5.6，很快就会有一些事情发生:</p><ol class=""><li id="3d6a" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lq li lj lk dt translated">根据<a class="ae jp" href="http://php.net/supported-versions.php" rel="noopener ugc nofollow" target="_blank">PHP官方支持时间表</a>，PHP 5.6将在2017年1月17日之前获得<strong class="it hv">官方支持</strong>。已经结束了。</li><li id="5309" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">好消息是，PHP 5.6将在2018年12月31日前获得安全支持。</li><li id="ac0c" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">当然，你仍然会错过完全零投资就能获得的所有性能提升。</li></ol><h1 id="b6c7" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">切换到PHP 7 —值得吗？</h1><p id="5f77" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">现在我们已经对PHP 7的各种优势有了明确的理解，让我们来解决一个至关重要的问题:<strong class="it hv">您应该切换到PHP 7 </strong>吗？</p><p id="8e84" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">做出任何决定的方法应基于<em class="jq">逻辑</em>。我们将着眼于解决这三个基本问题:</p><h1 id="abd5" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">1.转PHP 7有什么好处？</h1><p id="ed9b" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我们已经讨论了由网络基准支持的五个要点。所有这些都指出了一系列的好处，并且在做出转行的决定时，得到了响亮的<strong class="it hv">是</strong>。</p><h1 id="a768" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">2.你的WORDPRESS主题和插件与PHP 7兼容吗？</h1><p id="a0d1" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">仅仅因为WordPress兼容PHP 7(并向后兼容PHP 5.6)，难道<em class="jq">不</em>就意味着它所有的主题和插件都是吗？你可以使用一个定制的主题或者插件，它的特性在PHP 7中已经被否决了。你也可以使用一个来自WordPress知识库的插件，这个插件已经有一段时间没有更新了。有什么解决办法？</p><h1 id="5cbc" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">3.如何检查你的WORDPRESS站点是否为PHP 7做好了准备？</h1><p id="a849" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">幸运的是，<strong class="it hv"> WP引擎</strong>的慷慨开发者创造了一个非常棒的插件来解决这个问题。</p><p id="c54d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">介绍PHP兼容性检查器:一个扫描你的WordPress代码库和活动主题插件的插件，寻找已知的兼容性问题。</p><p id="5356" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq">PHP兼容性检查器插件支持的PHP版本</em></p><p id="da9f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以检查PHP的五个不同版本的兼容性问题，范围从5.3到7.0。</p><p id="edc0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">兼容性问题(如果发现)分为<strong class="it hv">错误</strong>和<strong class="it hv">警告。</strong>插件将列出违规代码的<strong class="it hv">文件</strong>和<strong class="it hv">行号</strong>，以及该代码与所选PHP版本不兼容的原因。</p><p id="a7f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，<em class="jq">有一些限制:</em></p><ol class=""><li id="5703" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lq li lj lk dt translated">该插件无法检测运行时兼容性问题，因为它不执行任何现有的主题和插件。</li><li id="7903" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">它依靠WP-Cron在后台扫描文件，因此WP-Cron必须在服务器上启用并工作。</li><li id="3e24" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">偶尔会有<a class="ae jp" href="https://github.com/wpengine/phpcompat/wiki/Results" rel="noopener ugc nofollow" target="_blank">误报</a>的报告，因为插件无法检测到可能用于向后兼容的未使用的代码路径。</li></ol><p id="7d59" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PHP兼容性检查器支持的插件示例列表。</p><p id="e426" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总而言之，这是一个非常简洁的插件，它可以告诉你你的WordPress堆栈是否准备好升级了！</p><h1 id="4755" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">4.不改用PHP 7会有什么危险？</h1><p id="0c6e" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">以下三点说明不升级到推荐的PHP 7的<strong class="it hv">缺点</strong>。他们还强调了不将升级到<strong class="it hv">要求的最低</strong>版本<strong class="it hv"> PHP 5.6的一些可能的<strong class="it hv">危险。</strong></strong></p><p id="e956" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jq"> * </em> </strong> <em class="jq"> 4.1性能下降:</em> *首先，你将错过至少两倍的性能提升，而无需投资一分钱。你猜怎么着？如果你用的是PHP 5.2，据报道它的<a class="ae jp" href="https://www.phpclasses.org/blog/post/493-php-performance-evolution.html" rel="noopener ugc nofollow" target="_blank">比PHP 7 慢了</a> <strong class="it hv"> 400%！</strong></p><p id="6af2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 4.2安全问题:</strong> PHP 5.x有太多的漏洞，新版本及时修补了这些漏洞。事实上，2016年实际上是PHP安全漏洞创纪录的一年，报告了100多个问题，从拒绝服务(DoS)到内存崩溃、恶意代码执行等等。</p><blockquote class="lx ly lz"><p id="40d0" class="ir is jq it b iu iv iw ix iy iz ja jb ma jd je jf mb jh ji jj mc jl jm jn jo hn dt translated">让你了解一下情况有多糟糕，PHP 5.4 <strong class="it hv">从2015年开始就没有打补丁了，</strong>也不再支持了。然而，21%的WordPress用户仍然在使用PHP 5.4！如果您是该组的一员，请立即更新到5.6。</p></blockquote><p id="72e5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 4.3损坏的插件:</strong>使用旧的、<strong class="it hv">不支持的PHP版本</strong>会产生插件冲突。最突出的错误之一是“<a class="ae jp" href="https://wordpress.org/search/unexpected+T_Function/?forums=1" rel="noopener ugc nofollow" target="_blank">意外的T_Function </a>”，如下所示。</p><p id="3543" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq">内容锁插件支持线程截图</em></p><p id="9e05" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">上面的截图是对<a class="ae jp" href="https://wordpress.org/plugins/content-locker/" rel="noopener ugc nofollow" target="_blank">内容锁</a>插件的<a class="ae jp" href="https://wordpress.org/support/topic/not-good-82/" rel="noopener ugc nofollow" target="_blank">支持查询</a>。作者明确提到插件工作所需的PHP最低版本是5.4。</p><h1 id="b772" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">5.成功案例</h1><p id="6a11" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">看到全球各种组织如何从升级中受益总是令人鼓舞的。</p><h2 id="ce56" class="md ka hu bd kb me mf mg kf mh mi mj kj jc mk ml kn jg mm mn kr jk mo mp kv mq dt translated">5.1)为BADOO省下一大笔钱</h2><p id="1415" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我们的第一个例子是约会应用<strong class="it hv"> Badoo </strong>，它已经成功节省了超过100万美元升级到PHP 7。怎么会？简单！PHP 7减少了完成相同任务所需的计算能力。因此，做同样的工作需要更少的服务器，最终释放了大约300台服务器！</p><h2 id="9ded" class="md ka hu bd kb me mf mg kf mh mi mj kj jc mk ml kn jg mm mn kr jk mo mp kv mq dt translated">5.2)克林顿电子公司的业绩大幅提升</h2><p id="ec3e" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我们的第二个成功故事来自WP引擎客户克林顿电子公司。简而言之，他们想要一个加载速度快的动态电子商务商店。选择的堆栈是WordPress，还有WooCommerce。他们合作的机构选择WP <a class="ae jp" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">引擎</a>作为托管WordPress主机提供商，这反过来又推荐了PHP 7。这次升级最终成功地将网站的加载时间减少了60%!</p><h1 id="b01e" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">如何用WordPress切换使用PHP 7？</h1><p id="67ff" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">首先，使用PHP兼容性检查器插件，确保你当前的WordPress堆栈与PHP 7 兼容<strong class="it hv">。一旦插件给你开了绿灯，继续升级。</strong></p><ul class=""><li id="291e" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lh li lj lk dt translated">如果你使用的是<strong class="it hv">共享WordPress hosting </strong>，比如Bluehost，你可以通过四个简单的步骤更新你的PHP版本。几乎所有共享的WordPress主机提供商都有一个cPanel或者一个定制的访问面板，在这里你可以改变PHP的版本。</li><li id="1985" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">如果你正在使用一个<strong class="it hv">托管的WordPress托管</strong>提供商，比如WP Engine，切换到PHP 7是小菜一碟——寻求他们的支持，他们会很快完成。</li></ul><p id="b874" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">WPEngine使用PHP常见问题页面检索于2017年4月26日</p><p id="bccc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq"> WP引擎使用PHP常见问题页面，检索时间:2017年4月26日</em></p><p id="ba1a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对WP引擎用户来说，好消息是根据他们的FAQ页面，PHP允许的最低版本是5.6。</p><p id="ac6a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">为什么选择WP引擎？</strong>WP引擎的诸多优势让它更具吸引力:</p><ol class=""><li id="d3f8" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lq li lj lk dt translated">创新的WordPress技术。</li><li id="ea15" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">速度极快的服务器每天能够处理数亿次请求。</li><li id="8097" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">具有高级DDoS保护的核心安全性。</li><li id="0e12" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">上级支持。</li></ol><p id="d8d5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">他们在这个行业已经有几年了，并且赢得了顶级品牌，比如国家地理杂志和T21。我个人最喜欢WP Engine的一点是他们回馈社区的文化——无论是赞助单词营、举办活动，还是构建令人敬畏的免费插件，如PHP兼容性检查器。</p><p id="c81a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你正在考虑升级或者改变你当前的主机提供商，我们强烈推荐WP Engine作为你的托管主机提供商，计划从每月29美元开始。</p><h1 id="a521" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">包扎</h1><p id="6cf0" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">让我们快速回顾一下到目前为止我们所学的内容:</p><ol class=""><li id="54d3" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lq li lj lk dt translated">PHP为82%的互联网提供动力，为脸书和WordPress等网站提供动力。</li><li id="778b" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">PHP的<strong class="it hv">推荐最低</strong>版本是<strong class="it hv">5.6</strong>——任何低于这个版本的都是大忌！</li><li id="9a42" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">PHP 7在性能、安全性和特性方面有了显著的改进——它轻易地将WordPress的性能提高了2倍，而没有额外的硬件。</li><li id="c721" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">将WordPress转换到PHP 7可以带来很多好处，而不需要任何投资。</li><li id="7635" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">然而，在切换之前，你需要确保你的WordPress设置已经准备好使用<a class="ae jp" href="https://wordpress.org/plugins/php-compatibility-checker/" rel="noopener ugc nofollow" target="_blank"> PHP兼容性检查器</a>插件升级到PHP 7。</li><li id="b6db" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">Bluehost等共享主机支持PHP 7，但需要手动启用。</li><li id="b167" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lq li lj lk dt translated">WP Engine等托管WordPress主机与PHP 7有着坚如磐石的兼容性。</li></ol><p id="4fcd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最终，PHP会随着每个版本的发布而不断改进。如果你只使用WordPress和流行的插件，你可以通过升级到PHP 7获得很多。然而，如果你正在使用大量定制的或者不常更新的插件，最好在升级前再坚持几个月。然而，这是<em class="jq">命令</em>，你必须使用PHP 5.6及以下版本！</p><p id="94c5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">已经在WordPress上使用PHP7了？想法？</strong></p></div></div>    
</body>
</html>