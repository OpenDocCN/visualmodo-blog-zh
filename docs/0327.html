<html>
<head>
<title>WordPress GZIP Compression Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GZIP压缩指南</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/wordpress-gzip-compression-guide-c409eea4f50a?source=collection_archive---------1-----------------------#2018-09-01">https://medium.com/visualmodo/wordpress-gzip-compression-guide-c409eea4f50a?source=collection_archive---------1-----------------------#2018-09-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="a09a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为WordPress启用GZIP压缩，以一种简单的方法使你的页面加载更快，并保持你的网站以最高速度运行</p><p id="b360" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你已经用计算机工作了一段时间，你可能已经熟悉了压缩。对于那些不喜欢压缩的人来说:压缩是一个非常有用的工具，可以将一堆文件组合成一个更小(更容易传输)的文件，对于网站来说，这可以显著加快页面加载速度。在这篇文章中，我将看看gzip压缩是如何工作的，以及如何在你自己的WordPress支持的网站上启用它。</p><h1 id="a3e4" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">这是什么？</h1><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff kn"><img src="../Images/d3ab73a51724b3c8b9fae8c1a4d86096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nuZkzpSC7aJ_J_37.png"/></div></div></figure><p id="af21" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在继续讨论如何实现它之前，让我们先来看看压缩意味着什么以及它如何提供帮助。</p><p id="95b7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如今，几乎所有的现代网站都混合使用了T2、HTML、CSS和JavaScript，由程序员以一种合乎逻辑的、全球通用的方式编写。这样做的结果几乎总是会产生相当大的开销，除了可读性之外没有任何用处。此外，大多数程序员还会使用各种设计模式和公共元素，从而导致大量的重复。</p><p id="2a2e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">gzip等压缩算法使用文本中的模式和重复来创建更有效的数据存储方式。让我们看一个例子。</p><p id="4367" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一些使文本以粗体显示的HTML代码:</p><pre class="ko kp kq kr fq la lb lc ld aw le dt"><span id="16b3" class="lf jq hu lb b fv lg lh l li lj">&lt;strong&gt;this is bold&lt;/strong&gt;</span></pre><p id="2f66" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个的压缩版其实挺长的:<code class="eh lk ll lm lb b">eNqzKS4pys9LtyvJyCxWAKKk/JwUG32oIC8XALn8Cuo=</code>。但是，看看当我们压缩以下内容时会发生什么:</p><pre class="ko kp kq kr fq la lb lc ld aw le dt"><span id="1374" class="lf jq hu lb b fv lg lh l li lj">&lt;strong&gt;this is bold&lt;/strong&gt;<br/>&lt;strong&gt;this is bold too&lt;/strong&gt;</span></pre><p id="d028" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">压缩版是<code class="eh lk ll lm lb b">eNqzKS4pys9LtyvJyCxWAKKk/JwUG32oIC+XDRZphZL8fCQlACNDF0U=</code>。尽管原始文本的大小增加了一倍多，但压缩版本实际上只增加了16个字符——大小减少了32%，这意味着加载量更少，网站速度更快。</p><h1 id="670b" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">WordPress的GZIP压缩</h1><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div class="fe ff ln"><img src="../Images/8157937f753d69a3aa9ef1ddcbb43822.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/0*U25VrdFrDyhdR7vU.jpg"/></div></figure><p id="c8de" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">理解gzip压缩不是WordPress负责的事情是很重要的。它实际上是由服务器自己处理的(而不是在<a class="ae kz" href="https://visualmodo.com/blog/" rel="noopener ugc nofollow" target="_blank"> WordPress </a>中)，这意味着要启用它，你必须在WordPress之外进行设置。</p><h1 id="3029" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">主办公司</h1><p id="44ec" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">首先:由于启用压缩需要您编辑(甚至创建)一个不容易处理的敏感文件(称为'<a class="ae kz" href="https://en.wikipedia.org/wiki/.htaccess" rel="noopener ugc nofollow" target="_blank"> htaccess文件【T7])，如果您对该做什么有任何疑问，最好让您的主机为您做这件事。如果你和一个有顶级支持的顶级主机在一起，他们应该能在几分钟内为你设置好(如果他们还没有的话)。</a></p><h1 id="84f8" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">设置</h1><p id="6f07" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">htaccess文件用于向服务器发出特殊的指令，比如重定向、自动为某些请求预先准备或附加文件，以及其他各种各样的功能——比如启用gzip压缩！自己设置的棘手之处在于定位——然后编辑——这个麻烦的文件。</p><p id="e289" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，您需要一种方法来访问服务器上的文件。大多数人的首选方法几乎肯定是通过FTP。然而，因为一个网站的被压缩文件是一个“<a class="ae kz" href="https://en.wikipedia.org/wiki/Dot-file" rel="noopener ugc nofollow" target="_blank">点文件</a>”(意味着它通常是隐藏的)，所以比大多数网站更难找到。更糟糕的是，因为它是一个隐藏的文件，如果你像下载普通文件一样把它下载到你的电脑上，它将保持隐藏状态，编辑起来非常麻烦。</p><p id="9a6a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">重要提示:</strong>如果这一切听起来有点可怕，那么在你有了更多的经验之前，你最好离开它，因为这不是一个真正深入必要基础知识的地方，比如如何使用FTP客户端，如何在服务器上或服务器外编辑文件，或者如何处理点文件。</p><p id="98ed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另一方面，<strong class="it hv">如果你已经熟悉了这些东西</strong>，那么你需要做的就是将下面的内容复制并粘贴到你站点的htaccess文件中:</p><pre class="ko kp kq kr fq la lb lc ld aw le dt"><span id="53e7" class="lf jq hu lb b fv lg lh l li lj">&lt;ifModule mod_gzip.c&gt;<br/>mod_gzip_on Yes<br/>mod_gzip_dechunk Yes<br/>mod_gzip_item_include file .(html?|txt|css|js|php|pl)$<br/>mod_gzip_item_include handler ^cgi-script$<br/>mod_gzip_item_include mime ^text/.*<br/>mod_gzip_item_include mime ^application/x-javascript.*<br/>mod_gzip_item_exclude mime ^image/.*<br/>mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*<br/>&lt;/ifModule&gt;</span></pre><p id="4d6e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就这样——全部完成！基于文本的内容，比如HTML、CSS和JavaScript，现在应该以gzip压缩格式传输。</p><h1 id="4983" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">检查你的工作</h1><p id="1b7a" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">有许多方法可以检查一个站点的文件是否被gzip压缩，其中最简单(也是最有趣)的方法是使用奇妙的<a class="ae kz" href="https://gtmetrix.com/" rel="noopener ugc nofollow" target="_blank"> GTMetrix </a>站点测试工具——我们在以前的文章中已经介绍过:如何有效地使用GTMetrix测试一个网站的速度！</p><p id="038c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果一切正常(而且，您可能需要像往常一样清空您站点的缓存和/或等待几分钟才能生效)，您应该能够在您站点的GTMetrix结果的“瀑布”部分看到以下内容:简单！</p><h1 id="4b2c" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">结论</h1><p id="9206" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">Gzip压缩是添加到(或已经添加到)你的网站的简单速度修正之一——不管它是由WordPress还是其他方式驱动的。如果你不启用它，你可能会错过一个重大的速度提升。</p><p id="81c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后一点:如果你有兴趣了解一个网站的htaccess文件，我推荐你看一下Tuts+的优秀htaccess指南，它包含了更多的信息和一些很棒的小知识，你可以用它来为你的网站服务。</p></div></div>    
</body>
</html>