<html>
<head>
<title>How To Add Retina Display Support</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何添加Retina显示屏支持</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/how-to-add-retina-display-support-aeb63cd307c0?source=collection_archive---------0-----------------------#2018-03-16">https://medium.com/visualmodo/how-to-add-retina-display-support-aeb63cd307c0?source=collection_archive---------0-----------------------#2018-03-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="0940" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">到你的WordPress网站？</h2></div><p id="825d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">苹果的视网膜显示器T1或T2的HiDPI T3是网页设计者和开发者讨论的话题。WordPress开发者和设计者已经开始通过提供Retina显示主题和插件来响应这项技术。<em class="kg">“我真的需要准备好我站点的Retina显示屏吗？”</em>是大多数网站站长都在问自己的问题。我希望这篇文章能帮助人们决定是否应该为苹果的视网膜显示器优化他们的网站。</p><h1 id="948f" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">什么是视网膜显示器？</h1><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff kz"><img src="../Images/b6efe2901701f1138c270f7202b0a909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*LxkIXPrEeeLKx9FX.png"/></div></figure><p id="2e5d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Retina Display是苹果公司使用的一种<em class="kg"> HiDPI </em>显示技术的注册商标，他们开始在他们的最新设备中使用该技术，如iPad、iPhone和MacBook pro。这项技术基本上比旧设备每英寸显示更多的点数(大约300 DPI)。这意味着更清晰的图像和更流畅的字体渲染。但是，需要注意的是，已经有许多其他设备具有更高的DPI <a class="ae kf" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">显示屏</a>。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/35fd1cbddb8d582282c84554f9692d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/0*dJPi9eTd3_daMPyp.png"/></div></figure><p id="0ddc" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">配备Retina显示屏的苹果MacBook Pro屏幕分辨率为2880×1800，每英寸220像素。你可能会认为15英寸屏幕的分辨率会让东西看起来更小。</p><h1 id="8e52" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">为什么说是挑战？</h1><p id="e818" class="pw-post-body-paragraph jj jk hu jl b jm li iv jo jp lj iy jr js lk ju jv jw ll jy jz ka lm kc kd ke hn dt translated">我完全支持高清网络。我觉得为现代设备优化网站并利用它们的显示功能是正确的做法。已经有很多用户不仅通过苹果设备，还通过其他具有类似功能的设备访问网络。如果趋势是任何迹象，我觉得更多的改进将出现在显示技术，所以变化是不可避免的，适应它将最终变得重要，如果不是必要的。</p><p id="459d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">另一方面，网站所有者需要考虑其他几个因素。首先，提供更高分辨率的图像意味着页面加载时间的小幅增加，对于更繁忙的网站，这也将增加带宽的使用。其次，随着如今人们使用的浏览器和设备数量的增加，很难对浏览器和设备进行分类，并为所有浏览器和设备准备<a class="ae kf" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">网站</a>。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff ln"><img src="../Images/6f133a70511b40442b721d06b46db914.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/0*fKCVILC6RMfFkqg4.png"/></div></figure><h1 id="cae7" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">如何给你的WordPress站点添加Retina显示支持</h1><p id="4f3f" class="pw-post-body-paragraph jj jk hu jl b jm li iv jo jp lj iy jr js lk ju jv jw ll jy jz ka lm kc kd ke hn dt translated">给你现有的WordPress主题添加Retina支持其实很容易，你所要做的就是添加一个两倍大小的额外图像，然后使用一个脚本来决定是提供标准清晰度图像还是高分辨率图像。</p><p id="467d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你可以在这里下载并添加<a class="ae kf" href="http://imulus.github.io/retinajs/" rel="noopener ugc nofollow" target="_blank"> Retina.js脚本。</a></p><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/d418e211fc55cc14ab484a2118445772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/0*LLKwPC8irg368z1E.png"/></div></figure><p id="0dec" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">将它添加到主题的js目录中，然后将脚本放入functions.php文件中。当用户加载页面时，retina.js会检查页面上的每张图片，看看服务器上是否有该图片的高分辨率版本。如果存在高分辨率变体，脚本将就地换入该图像。</p><p id="c7b9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你所要做的就是，当你在网站上添加一张新图片时，保存一个文件，比如logo.png，另一个文件的大小是logo@2x.png的两倍，脚本会检测显示哪个版本。这适用于任何文件名，只需在文件名后添加@2x。</p><p id="95c6" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">其他要注意的事情是尽可能使用图标字体，因为这些字体总是以高分辨率显示，以32×32的尺寸而不是标准的16×16尺寸重新创建你的favicon，并确保任何背景图像也是两倍大小，因为这个脚本不会检测背景<a class="ae kf" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">图像</a>。</p><p id="012b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">显示背景图像的代码是:</p><pre class="la lb lc ld fq lo lp lq lr aw ls dt"><span id="04d8" class="lt ki hu lp b fv lu lv l lw lx">.background {<br/>  background-image: url(example.png);<br/>  background-size: 200px 300px;<br/>  height: 300px;<br/>  width: 200px;<br/>}<br/> <br/>@media only screen and (-Webkit-min-device-pixel-ratio: 1.5),<br/>only screen and (-moz-min-device-pixel-ratio: 1.5),<br/>only screen and (-o-min-device-pixel-ratio: 3/2),<br/>only screen and (min-device-pixel-ratio: 1.5) {<br/>  .background {<br/>    background-image: url(example@2x.png);<br/>  }<br/>}</span></pre><h1 id="be49" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">用插件在WordPress中实现视网膜显示</h1><p id="598d" class="pw-post-body-paragraph jj jk hu jl b jm li iv jo jp lj iy jr js lk ju jv jw ll jy jz ka lm kc kd ke hn dt translated">我们已经有WordPress开发者对这一挑战做出了回应，并提供了一些非常实用和有创意的解决方案。目前，在<a class="ae kf" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank"> WordPress </a>中有两种常见的方法来提供视网膜显示就绪图像。希望我们能看到一些更好更完美的解决方案。</p><h1 id="4091" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">WP Retina 2x插件</h1><p id="31db" class="pw-post-body-paragraph jj jk hu jl b jm li iv jo jp lj iy jr js lk ju jv jw ll jy jz ka lm kc kd ke hn dt translated">WP Retina 2x插件试图检测用于访问网页的设备，如果该设备支持Retina显示，则它会在您的网站上提供更高分辨率的图像版本。由Jordy Meow编写，WP Retina 2x为您的网站提供了一个管理Retina图像的仪表板。此仪表板显示媒体库中文件的当前状态，其中哪些文件具有Retina显示就绪版本，以及哪些图像有问题。这个令人敬畏的插件提供了四种不同的方式来显示视网膜图像:</p><ul class=""><li id="615e" class="ly lz hu jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg dt translated">picture fill:picture fill方法动态重写HTML，以便使用新的SRCSET。因为浏览器还不支持它，所以使用JS polyfill Picturefill来加载图像。这是现在推荐的方法。</li><li id="0be0" class="ly lz hu jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg dt translated">Retina . js:Retina JS方法是100%的JS解决方案。HTML加载正常图像，然后如果检测到视网膜设备，将加载视网膜图像。它是故障安全的，但效率不高(图像被加载两次)。</li><li id="5346" class="ly lz hu jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg dt translated">IMG重写:IMG重写方法直接用视网膜图像重写IMG的SRC标签，如果设备支持的话。这种方法不适用于大多数缓存解决方案。</li><li id="7c64" class="ly lz hu jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg dt translated">Retina-Images:Retina-Images方法使用了一个服务器处理程序:图像将通过Retina-Images PHP处理程序加载。你的。htaccess将被自动修改。</li></ul><p id="e005" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">安装后，插件会在管理菜单中添加一个WP Retina 2x标签，带你进入插件的仪表板。在那里，您将看到两个选项卡，分别用于基本设置和高级设置。在基础页面上，你可以告诉插件你不想为视网膜显示重新生成的图像尺寸。它会显示中、大、小等尺寸，你也可以看到你的主题添加的其他尺寸来生成文章缩略图或滑块。我通常在文章和缩略图中使用中型或大型图片作为索引和存档页面上的特色图片。所以我会让它们不被选中，并选中其他我不想被优化的网站。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/c676d4d8538b5746bca644570d698316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/0*fLpzA1v5jmQbEbQD.png"/></div></figure><p id="830b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">“高级”选项卡允许您在服务器端和客户端方法之间进行选择。这个插件还在管理菜单的媒体标签下增加了一个Retina 2x标签，在那里你可以看到你上传的图片的状态，哪些已经准备好了Retina版本，哪些有问题。插件作者建议您使用“启用媒体替换”插件，它会在有问题的图像旁边放置一个替换按钮，您可以轻松地替换这些图像。</p><p id="f02a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="http://wordpress.org/extend/plugins/wp-retina-2x/" rel="noopener ugc nofollow" target="_blank">下载WP Retina 2x </a></p><h1 id="a905" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">单纯性WP视网膜</h1><p id="5dec" class="pw-post-body-paragraph jj jk hu jl b jm li iv jo jp lj iy jr js lk ju jv jw ll jy jz ka lm kc kd ke hn dt translated">一种快速简单的方法来实现你的<a class="ae kf" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">网站</a>的视网膜显示功能。简单的WP视网膜插件在服务器端工作，检测视网膜或高像素密度的设备，并为这些访问者显示高分辨率的图像。它简单、简短而甜蜜。然而，这个插件有一些限制。例如，它不支持缓存，所以如果你的网站上安装了任何缓存插件，那么这个插件就不能正常工作。没有仪表板，也没有简单的方法来调试插件，并实际看到它可以检测并向高像素密度设备提供@2x图像。</p><ul class=""><li id="1274" class="ly lz hu jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg dt translated">检测高DPI屏幕，如视网膜显示屏</li><li id="2d0e" class="ly lz hu jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg dt translated">检测使用add_image_size()添加的所有图像大小，并添加@2x版本。</li><li id="3eb9" class="ly lz hu jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg dt translated">为高DPI屏幕用户将特色缩略图和内容图像替换为@2x版本。</li></ul><p id="f18a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一旦安装了简单的WP Retina不会自动重新生成图像，你将需要使用<a class="ae kf" href="http://wordpress.org/extend/plugins/regenerate-thumbnails/" rel="noopener ugc nofollow" target="_blank">重新生成缩略图</a>插件。它还可以重新生成所有图像的2x版本。因此，如果你的主题增加了多种图像尺寸，那么它们都会有@2x版本。这是一个新插件，我希望插件作者将扩展和改进它。</p><p id="a7bc" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="http://wordpress.org/extend/plugins/simple-wp-retina/" rel="noopener ugc nofollow" target="_blank">下载简单WP视网膜</a></p><h1 id="18fa" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">视网膜图像支持</h1><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/70c7a0ba006f5e41e8cb1b286b1671a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/0*rSILsV6WCLAFCAQI.png"/></div></figure><p id="eee4" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">另一个简单的解决方案是视网膜图像支持插件，它基本上执行我们上面概述的步骤，它将添加retina.js脚本，并且您必须上传带有@2x名称的图像。</p><p id="b9b7" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="https://wordpress.org/plugins/retina-image-support/" rel="noopener ugc nofollow" target="_blank">下载简单WP视网膜</a></p><h1 id="d135" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">HiDPI Gravatars</h1><p id="8f90" class="pw-post-body-paragraph jj jk hu jl b jm li iv jo jp lj iy jr js lk ju jv jw ll jy jz ka lm kc kd ke hn dt translated">这个插件将更新你网站的gravatars到高分辨率，只需上传和激活。为了在上传新头像时获得最佳效果，请使用大小至少为128 x 128像素的图像。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/aff32b6f6a92760d135b3ffc7a49b11d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/0*kveMyZF7BD1YUWXx.png"/></div></figure><p id="a0b5" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="https://wordpress.org/plugins/hidpi-gravatars/" rel="noopener ugc nofollow" target="_blank">下载HiDPI Gravatars </a></p></div></div>    
</body>
</html>