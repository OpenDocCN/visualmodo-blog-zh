<html>
<head>
<title>How To Edit WooCommerce Price Display</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何编辑WooCommerce价格显示</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/how-to-edit-woocommerce-price-display-8f5681bd3eff?source=collection_archive---------0-----------------------#2017-10-18">https://medium.com/visualmodo/how-to-edit-woocommerce-price-display-8f5681bd3eff?source=collection_archive---------0-----------------------#2017-10-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="f03b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本教程中，你可以看到如何改变WooCommerce的价格显示，这样你就可以使用WooCommerce WordPress插件在你的商店页面上显示不同的东西</p><p id="fa5d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为价格是基于串肉扦的数量，所以我们希望“product”代表一个串肉扦，价格是串肉扦的价格。这样，顾客可以点3串烤串，并被收取正确的金额。</p><p id="6abb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你当然可以改变价格显示，让顾客更容易比较不同产品的单价。如果几个产品有不同的单价，你需要一个更高级的方法来做到这一点，但是这里有一些方法可以帮助你开始调整WooCommerce的价格显示。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff jp"><img src="../Images/3a6946b3c84c90e611d1da4064926f59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/0*wS6m2qPPK4N2Z5DI.png"/></div></figure><p id="db1d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于这两种方法，我们都需要使用几个重要的过滤器:</p><ul class=""><li id="d9d9" class="jx jy hu it b iu iv iy iz jc jz jg ka jk kb jo kc kd ke kf dt translated"><code class="eh kg kh ki kj b"><a class="ae kk" href="https://github.com/woothemes/woocommerce/blob/2.4.12/includes/abstracts/abstract-wc-product.php#L982" rel="noopener ugc nofollow" target="_blank">woocommerce_get_price_html</a></code>:改变价格在商品和商店页面上的显示方式</li><li id="1826" class="jx jy hu it b iu kl iy km jc kn jg ko jk kp jo kc kd ke kf dt translated"><code class="eh kg kh ki kj b"><a class="ae kk" href="https://github.com/woothemes/woocommerce/blob/2.4.12/templates/cart/cart.php#L89" rel="noopener ugc nofollow" target="_blank">woocommerce_cart_item_price</a></code>:改变购物车表格中产品价格的显示方式(<strong class="it hv">不是</strong>，因为这里只显示数量/总价，而不是单价)。</li></ul><h1 id="e1b1" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">过滤所有产品的woo商务价格显示</h1><p id="06f0" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">假设您想要在所有产品价格的末尾添加一个标签，例如“每包”(如果您的产品是一包一包的或者是预包装的，这很有帮助)。您可以通过产品和购物车价格过滤器更改价格显示，将此标签附加到价格中:</p><p id="50c8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><?php // only copy opening php tag if needed// Adds “per package” after each product price throughout the shopfunction sv_change_product_price_display( $price) {$price .= ‘ per package‘;return $price;}add_filter( ‘woocommerce_get_price_html‘, ‘sv_change_product_price_display‘ );add_filter( ‘woocommerce_cart_item_price‘, ‘sv_change_product_price_display‘ );</root?></p><p id="5af5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae kk" href="https://gist.github.com/bekarice/0a148c189bdeccd187d9/raw/c5c60792db4383278c174dc3f4d46139a1d507d6/wc-product-price-display.php" rel="noopener ugc nofollow" target="_blank">观生</a><a class="ae kk" href="https://gist.github.com/bekarice/0a148c189bdeccd187d9#file-wc-product-price-display-php" rel="noopener ugc nofollow" target="_blank">wc-product-price-display.php</a>与❤由<a class="ae kk" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>主持</p><p id="698c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kg kh ki kj b">woocommerce_get_price_html</code>过滤器将改变你的商店页面:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff lt"><img src="../Images/3011aef2e51a8267f44469d9436e9515.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IpOMy7w1lt1x7aX7.png"/></div></div></figure><p id="c9bf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在您的单品页面上:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff lt"><img src="../Images/82376f16d52610ca264ac8c598874f21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*73CqSK0n2vWEBCKj.png"/></div></div></figure><p id="d062" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kg kh ki kj b">woocommerce_cart_item_price</code>过滤器也会调整购物车内的显示:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff ly"><img src="../Images/c5684bbc5222959648c4da6bc491274e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7E2hFtJlx-FQJIps.png"/></div></div></figure><h1 id="b4c4" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">过滤单一产品的WooCommerce价格显示</h1><p id="4b88" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">如果您想专门更改特定产品的价格显示，该怎么办？这可以用相同的过滤器来完成，因为它们还会传递额外的参数，让您有条件地更改价格。例如，让我们从问题中回到我们的串肉扦例子。虽然烤串以每串2美元的价格单独出售，但我们希望显示“每公斤15美元”的价格，以便顾客可以比较不同的产品。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lz"><img src="../Images/5931b259bce98b25d1daf0c905017123.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/0*Xh4fKKSSEuc9Hnfo.png"/></div></figure><p id="1c1e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这次我们将分离出这些过滤器，并使用两个函数来修改产品和购物车价格。我们将首先检查产品ID，然后只更改该产品的价格显示。</p><p id="b844" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">函数SV _ change _ product _ html($ price _ html，$ product){ if(337 = = = $ product-&gt; id){ $ price _ html = '<span class="“amount“">$ 15.00每公斤</span>'；} return $ price _ html} add _ filter(' woo commerce _ get _ price _ html '，' sv_change_product_html '，10，2)；函数SV _ change _ product _ price _ cart($ price，$cart_item，$ cart _ item _ key){ if(337 = = = $ cart _ item[' product _ id ']){ $ price = ' $ 15.00每公斤<br/>(每公斤7–8串)'；}返回$ price} add _ filter(' woo commerce _ cart _ item _ price '，' sv_change_product_price_cart '，10，3)；</p><p id="f462" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae kk" href="https://gist.github.com/bekarice/2cc60423043a243c090e/raw/ec017ae907642169851fa6ad0ab5c8e9623db708/wc-price-display.php" rel="noopener ugc nofollow" target="_blank">观生</a><a class="ae kk" href="https://gist.github.com/bekarice/2cc60423043a243c090e#file-wc-price-display-php" rel="noopener ugc nofollow" target="_blank">wc-price-display.php</a>与❤由<a class="ae kk" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>主持</p><p id="bb7e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第一个功能将改变我的产品页面:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff ma"><img src="../Images/0a0d834fe0c26c8a1bd2db7b882d4388.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/0*ADrIjYq1LNXKfWQq.png"/></div></figure><p id="a9ff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除了商店陈列:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/d14f14cbc838f753038ef08ec7ab13d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/0*0OkEDp-H0TboxVJn.png"/></div></figure><p id="bbaf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">而第二个功能将根据我的新价格调整我的购物车显示:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff mc"><img src="../Images/499f59ba89f975ebd6d61eaf7ac7e684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w5UxO1Qqyl6gr1zc.png"/></div></div></figure><p id="c41a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，如果你有多个有单价的产品，这种方法会非常麻烦，我们可能不希望每个产品ID都有一个<em class="md">的switch / if语句。相反，我建议使用<strong class="it hv">产品定制字段</strong>来调整价格显示。我们可以使用ID来获取这个字段，这样可以节省大量的硬编码，因为我们将通过编程来获取这个字段。</em></p><h1 id="31b4" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">基于产品字段过滤WooCommerce价格显示</h1><p id="d080" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">如果您必须更改某些产品的价格显示，而不是所有产品的价格显示，或者每个产品都有不同的单价，那么使用一个自定义字段将为我们提供一个简单得多的代码片段来实现，因为我们可以为每个产品添加该字段，然后只需使用我们的代码片段来检索该字段。</p><p id="0a70" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以为每个需要它的产品添加一个<code class="eh kg kh ki kj b">unit_price</code>定制字段，然后在这里添加单价值。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff me"><img src="../Images/9e3fe18d4be832ede0ba27f3f1d449e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/0*0qoTN27SjrRL683J.png"/></div></figure><p id="1f05" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">添加自定义字段</p><p id="6f9b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">添加后，您可以检索单价，如果为产品设置了单价，则调整价格显示以使用该单价和您的自定义标签:</p><p id="7640" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><?php // only copy the opening php tag if needed// Change the shop / product prices if a unit_price is setfunction sv_change_product_html( $price_html, $product ) {$unit_price = get_post_meta( $product-?> id，'单价'，真)；如果(！empty(＄unit _ price)){＄price _ html = '【T2]'。wc_price( $unit_price)。每公斤'；} return $ price _ html} add _ filter(' woo commerce _ get _ price _ html '，' sv_change_product_html '，10，2)；//如果unit_price为set function SV _ Change _ product _ price _ cart($ price，$cart_item，$ cart _ item _ key){ $ unit_price = get _ post _ meta($ cart _ item[' product _ id ']，' unit _ price '，true)，则更改购物车价格；如果(！空($ unit _ price)){ $ price = WC _ price($ unit _ price)。每千克'；}返回$ price} add _ filter(' woo commerce _ cart _ item _ price '，' sv_change_product_price_cart '，10，3)；</p><p id="b0c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae kk" href="https://gist.github.com/bekarice/21f67d2a1eda138fe6f1/raw/e0d8c2d83ee1fc0d2490450d79f3722aa9c0f2ee/wc-change-price-display-custom-field.php" rel="noopener ugc nofollow" target="_blank">观生</a><a class="ae kk" href="https://gist.github.com/bekarice/21f67d2a1eda138fe6f1#file-wc-change-price-display-custom-field-php" rel="noopener ugc nofollow" target="_blank">wc-change-price-display-custom-field.php</a>与❤由<a class="ae kk" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>主持</p><p id="e371" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(<code class="eh kg kh ki kj b">wc_price()</code>是一个方便的小功能，用商店定价显示设置格式化数字，用吧！)</p><p id="2b9b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这种情况下，只有设置了单价，产品/商店页面上的定价显示才会改变。如果没有，它们的价格将保持不变:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mf"><img src="../Images/bdf41a7204fa84f31dc7910618bffee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/0*r5fY1nrP5T9ixskA.png"/></div></figure><p id="6276" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">购物车中的商品也会出现同样的情况WooCommerce价格显示会根据商品是否在自定义字段中设置了unit_price而有条件地进行调整:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff mg"><img src="../Images/5ba5c2f2f2242f2b9f4c69a8e636edd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AOZv_7MLDnZI3Ylo.png"/></div></div></figure><p id="2638" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">仅仅因为你以一种方式定价并不意味着你需要向顾客展示那个价格。有时改变价格显示可以给顾客更多关于产品包装的信息，或者可以让顾客更容易地比较产品。</p><p id="045c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有的<a class="ae kk" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank"> Visualmodo </a> WordPress主题都与<a class="ae kk" href="https://wordpress.org/plugins/woocommerce/" rel="noopener ugc nofollow" target="_blank"> WooCommerce </a> WordPress插件完全兼容，并且还增加了令人惊叹的特殊功能。</p></div></div>    
</body>
</html>