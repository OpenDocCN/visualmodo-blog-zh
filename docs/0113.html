<html>
<head>
<title>How To Reduce Admin-Ajax Server Load In WordPress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在WordPress中减少Admin-Ajax服务器负载</h1>
<blockquote>原文：<a href="https://medium.com/visualmodo/how-to-reduce-admin-ajax-server-load-in-wordpress-5ba49a5a3185?source=collection_archive---------0-----------------------#2018-01-23">https://medium.com/visualmodo/how-to-reduce-admin-ajax-server-load-in-wordpress-5ba49a5a3185?source=collection_archive---------0-----------------------#2018-01-23</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="08be" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了增加更好的用户体验，我们总是以提高网站速度而告终。点击一个网站链接似乎是一件简单的事情。但是你有没有想过，有多少请求是在一次点击后的几秒钟内被立即pinged通的？在这几秒钟内发生了很多事情，可能会降低网站管理的速度——Ajax就是这里解释的那个。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/11bdcdf3ad7b2249322776e2dbbeae7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*duAxNKcHhFa3oHdq.png"/></div></div></figure><p id="8bd6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">虽然，网站加载缓慢背后有各种各样的原因。如果在现场检查<a class="ae kb" href="https://visualmodo.com/wordpress-themes/" rel="noopener ugc nofollow" target="_blank">速度测试</a>工具，有时会在管理Ajax.php文件中显示警告。这意味着管理Ajax.php文件也是网站加载缓慢的原因之一。</p><p id="2bb0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Admin-ajax.php是WordPress AJAX API的一部分。它也处理来自后端和前端的请求。Ajax允许通过在后台与服务器交换少量数据来异步更新网页。</p><p id="c575" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在WordPress 3.6中，WordPress引入了Heartbeat API。API刺激浏览器和服务器之间的双向连接。此外，它还用于在用户写或编辑时自动保存、post锁定和登录到期警告。</p><p id="6736" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Heartbeat API在创建与服务器通信的请求时，在接收数据/响应时触发事件。这通常会给服务器带来巨大的负载，从而降低网站的运行速度。</p><p id="8767" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">由于这个心跳API，Admin-ajax.php每隔15秒就会生成请求。该请求可以是与<a class="ae kb" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">服务器</a>的任何通信。因此，通过发送太多的请求，服务器需要很长时间来显示您的内容或加载网站。</p><h1 id="211f" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">如何降低Admin-Ajax服务器负载？</h1><h1 id="f141" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">加速WordPress管理仪表板</h1><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff la"><img src="../Images/811c95525398b8233f043d96fdddf5b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Y7GnHZ9OK-fLV4Br.png"/></div></div></figure><p id="5fab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，在后端加速站点的最佳解决方案是禁用Heartbeat API。相反，安装<a class="ae kb" href="https://wordpress.org/plugins/heartbeat-control/" rel="noopener ugc nofollow" target="_blank">心跳控制插件</a>。心跳控制插件允许你容易地管理WordPress心跳API的频率。通过这个插件，心跳API可以被完全禁用。</p><p id="df72" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意:</strong> <em class="lb">如果你正在使用任何缓存插件，那么在继续之前禁用对象缓存。它将大幅加快</em> <a class="ae kb" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank"> <em class="lb">的速度。</em></a></p><h1 id="dc2b" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">要安装心跳控制插件:</h1><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/8cdc1774c289202a761dcddcd506baa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*I7TmeKSsSOZvNbGC.png"/></div></div></figure><ol class=""><li id="d7d9" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lh li lj lk dt translated">登录你的<strong class="it hv"> WordPress Admin </strong>仪表盘。</li><li id="d9eb" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">进入<strong class="it hv">插件&gt; &gt;添加新的</strong>并搜索<strong class="it hv">心跳控制</strong>。</li><li id="87bf" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">现在，<strong class="it hv">安装</strong>并且<strong class="it hv">激活</strong>它。</li></ol><h1 id="919e" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">心跳控制插件的配置:</h1><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lq"><img src="../Images/331520040537f68bd45ce9275ee5ebc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/0*Cxl0SR19A1G5tD_9.png"/></div></figure><ol class=""><li id="3959" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lh li lj lk dt translated">转到设置，然后控制心跳(<strong class="it hv">设置&gt;T19】控制心跳</strong></li><li id="c1e1" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">现在，选择地点。这些地点有三个选项可供选择。</li></ol><ul class=""><li id="9c62" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lr li lj lk dt translated">到处禁用</li><li id="4754" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lr li lj lk dt translated">在仪表板页面上禁用</li><li id="1f48" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lr li lj lk dt translated">仅在帖子编辑页面上允许</li></ul><p id="56f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果我没猜错的话，你的网站经常贡献超过1个用户。所以，我建议只在帖子编辑 <strong class="it hv">页面</strong>位置选择<strong class="it hv">允许禁用插件。</strong></p><ol class=""><li id="438d" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lh li lj lk dt translated">现在，您需要通过Override Heartbeat Frequency菜单选择执行admin-ajax请求的时间间隔。</li><li id="63de" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">设定<strong class="it hv"> 60秒</strong>的时间间隔。通过这样做，请求将在每60秒后生成。这大大降低了服务器的负载。</li><li id="5119" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lh li lj lk dt translated">现在，搜索使用<strong class="it hv">心跳API </strong>的插件。</li></ol><ul class=""><li id="066f" class="lc ld hu it b iu iv iy iz jc le jg lf jk lg jo lr li lj lk dt translated">为此，请访问<strong class="it hv"> GTMetrix </strong>网站并分析您的网站。现在，转到瀑布选项卡，分析哪个文件需要长时间连接和响应。</li><li id="7658" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lr li lj lk dt translated">现在，向下滚动，看看是否有admin-ajax.php邮政的条目。</li><li id="5e31" class="lc ld hu it b iu ll iy lm jc ln jg lo jk lp jo lr li lj lk dt translated">如果是，<strong class="it hv">展开</strong>并导航到<strong class="it hv"> Post选项卡</strong>找到插件。</li></ul><p id="3e8c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在你们都<a class="ae kb" href="https://visualmodo.com/" rel="noopener ugc nofollow" target="_blank">定</a>了。</p></div></div>    
</body>
</html>